{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"@babel/runtime/helpers/asyncToGenerator\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/objectSpread\"","webpack:///external \"ethers\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"@babel/runtime/helpers/slicedToArray\"","webpack:///external \"bignumber.js\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"js-sha3\"","webpack:///external \"elliptic\"","webpack:///external \"@babel/runtime/helpers/typeof\"","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"axios\"","webpack:///external \"jssha\"","webpack:///external \"validator\"","webpack:///external \"eventemitter3\"","webpack:///./src/utils/base64.js","webpack:///./src/utils/bytes.js","webpack:///./src/utils/address.js","webpack:///./src/utils/code.js","webpack:///./src/utils/base58.js","webpack:///./src/utils/crypto.js","webpack:///./src/utils/accounts.js","webpack:///./src/utils/abi.js","webpack:///./src/utils/index.js","webpack:///./src/lib/providers/index.js","webpack:///./src/lib/providers/HttpProvider.js","webpack:///./src/lib/transactionBuilder.js","webpack:///./src/lib/trx.js","webpack:///./src/lib/contract/method.js","webpack:///./src/lib/contract/index.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","Base64","_this","this","_keyStr","encode","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","length","charCodeAt","isNaN","charAt","encodeIgnoreUtf8","inputBytes","decode","replace","indexOf","String","fromCharCode","_utf8_decode","decodeToByteArray","_out2ByteArray","utftext","byteArray","Array","_utf8_encode","string","c2","c3","byte2hexStr","byte","Error","str","bytesToString","arr","one","toString","v","match","bytesLength","store","slice","st","parseInt","hextoString","hex","split","out","tmp","concat","byteArray2hexStr","base64DecodeFromString","string64","base64EncodeToString","bytes","ADDRESS_SIZE","ADDRESS_PREFIX","ADDRESS_PREFIX_BYTE","bin2String","array","arrayEquals","array1","array2","strict","JSON","stringify","stringToBytes","len","push","hexChar2byte","isHexChar","hexStr2byteArray","j","k","strToDate","test","tempStrs","dateStrs","year","month","day","timeStrs","hour","minute","second","Date","isNumber","getStringType","ALPHABET","ALPHABET_MAP","base58_i","BASE","encode58","buffer","digits","carry","reverse","map","digit","join","decode58","getBase58CheckAddress","addressBytes","checkSum","SHA256","decodeBase58Address","base58Sting","address","offset","checkSum1","signTransaction","priKeyBytes","transaction","signature","ECKeySign","txID","arrayToBase64String","a","btoa","apply","toConsumableArray_default","crypto_signBytes","privateKey","contents","getRowBytesFromTransactionBase64","base64Data","bytesDecode","proto","protocol","Transaction","deserializeBinary","getRawData","serializeBinary","genPriKey","priKeyHex","external_elliptic_","genKeyPair","getPrivate","computeAddress","pubBytes","hash","external_js_sha3_","substring","getAddressFromPriKey","getPubKeyFromPriKey","decode58Check","addressStr","decodeCheck","decodeData","hash1","isAddressValid","base58Str","getBase58CheckAddressFromPriKeyBase64String","priKeyBase64String","getHexStrAddressFromPriKeyBase64String","getAddressFromPriKeyBase64String","pubkey","keyFromPrivate","getPublic","x","y","xHex","yHex","hashBytes","sign","id","recoveryParam","rHex","sHex","msgBytes","shaObj","external_jssha_default","msgHex","update","getHash","passwordToAddress","password","pkToAddress","generateAccount","pubKeyBytes","publicKey","base58","abi_abiCoder","external_ethers_","AbiCoder","decodeParams","names","types","ignoreMethodHash","reduce","obj","arg","index","substr","toLowerCase","encodeParams","values","src_TronWeb","toHex","utils","isValidURL","url","external_validator_default","isURL","protocols","isObject","isArray","isJson","parse","ex","isBoolean","bool","isBigNumber","number","external_bignumber_js_default","constructor","isString","isFunction","isHex","isInteger","Number","hasProperty","hasProperties","_len","arguments","properties","_key","includes","injectPromise","func","_len2","args","_key2","Promise","resolve","reject","err","res","promiseInjector","scope","_this2","_len3","_key3","mapEvent","event","block","block_number","timestamp","block_timestamp","contract","contract_address","event_name","transaction_id","result","resourceNode","resource_Node","parseEvent","_ref","abi","inputs","type","_abi$index","padLeft","padding","amount","src_utils","objectSpread_default","code","code_namespaceObject","accounts","accounts_namespaceObject","base58_namespaceObject","bytes_namespaceObject","crypto","crypto_namespaceObject","abi_namespaceObject","providers","HttpProvider","host","timeout","undefined","user","headers","statusPage","classCallCheck_default","instance","external_axios_default","baseURL","auth","request","then","data","catch","payload","method","keys","params","transactionResultManager","callback","message","transactionBuilder_this","tronWeb","toUtf8","transactionBuilder_TransactionBuilder","TransactionBuilder","to","from","defaultAddress","isAddress","fullNode","to_address","owner_address","sendTrx","tokenID","fromUtf8","asset_name","sendToken","issuerAddress","buyer","purchaseToken","duration","resource","frozen_balance","frozen_duration","freezeBalance","unfreezeBalance","withdrawBlockRewards","applyForSR","votes","voterAddress","vote","invalid","entries","_ref2","slicedToArray_default","srAddress","voteCount","vote_address","vote_count","options","createSmartContract","feeLimit","fee_limit","userFeePercentage","consume_user_resource_percent","originEnergyLimit","origin_energy_limit","callValue","call_value","tokenValue","token_value","tokenId","token_id","_options$abi","_options$bytecode","bytecode","_options$parameters","parameters","_options$name","_unused","payable","some","constructorParams","find","it","abiCoder","parameter","contractAddress","functionSelector","triggerSmartContract","_parameters$i","function_selector","createToken","_options$name2","_options$abbreviation","abbreviation","_options$description","description","_options$url","_options$totalSupply","totalSupply","_options$trxRatio","trxRatio","_options$tokenRatio","tokenRatio","_options$saleStart","saleStart","now","_options$saleEnd","saleEnd","_options$freeBandwidt","freeBandwidth","_options$freeBandwidt2","freeBandwidthLimit","_options$frozenAmount","frozenAmount","_options$frozenDurati","frozenDuration","abbr","total_supply","trx_num","num","start_time","end_time","free_asset_net_limit","public_free_asset_net_limit","frozen_supply","frozen_amount","frozen_days","accountName","account_name","updateAccount","updateToken","_options$description2","_options$url2","_options$freeBandwidt3","_options$freeBandwidt4","new_limit","new_public_limit","createProposal","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","return","proposalID","proposal_id","deleteProposal","isApproval","is_add_approval","voteProposal","tokenName","tokenBalance","trxBalance","ownerAddress","first_token_id","first_token_balance","second_token_id","second_token_balance","resources","createTRXExchange","firstTokenName","firstTokenBalance","secondTokenName","secondTokenBalance","exchangeID","tokenAmount","exchange_id","quant","injectExchangeTokens","withdrawExchangeTokens","tokenAmountSold","tokenAmountExpected","fromAscii","expected","tradeExchangeTokens","updateSetting","updateEnergyLimit","trx_Trx","Trx","token","getCurrentBlock","defaultBlock","getBlockByHash","getBlockByNumber","getBlock","blockHash","blockID","getBlockTransactionCount","_ref$transactions","transactions","_ref2$transactions","getTransactionFromBlock","transactionID","getTransaction","getConfirmedTransaction","solidityNode","getTransactionInfo","limit","getTransactionsRelated","getTransactionsToAddress","getTransactionsFromAddress","direction","all","tx","sort","b","raw_data","_context","t0","account","_ref5","getAccount","getBalance","_ref6","_ref6$balance","balance","getUnconfirmedAccount","getUnconfirmedBalance","_ref7","_ref7$balance","_ref8","_ref8$freeNetUsed","freeNetUsed","_ref8$freeNetLimit","freeNetLimit","_ref8$NetUsed","NetUsed","_ref8$NetLimit","NetLimit","getBandwidth","_ref9","_ref9$assetIssue","assetIssue","tokens","parseToken","getTokensIssuedByAddress","getTokenFromID","_this3","listNodes","_ref10","_ref10$nodes","nodes","_ref11","_ref11$address","port","start","end","startNum","endNum","_ref12","_ref12$block","getBlockRange","listSuperRepresentatives","_ref13","_ref13$witnesses","witnesses","_this4","_ref15","_ref15$assetIssue","_ref14","_ref14$assetIssue","listTokens","timeUntilNextVoteCycle","_ref16","_ref16$num","Math","floor","getContract","useTronHeader","verifyMessage","messageBytes","toUtf8Bytes","messageDigest","keccak256","recovered","recoverAddress","tronAddress","fromHex","defaultPrivateKey","signingKey","SigningKey","signDigest","signatureHex","_context3","fromPrivateKey","t1","signedTransaction","sendRawTransaction","sendTransaction","transactionBuilder","_context4","_context5","_context6","_context7","_context8","proposal","getProposal","listProposals","_ref17","_ref17$proposals","proposals","getChainParameters","_ref18","_ref18$chainParameter","chainParameter","getAccountResources","exchange","getExchangeByID","listExchanges","_ref19","_ref19$exchanges","exchanges","_ref20","_ref20$exchanges","getNodeInfo","_ref21","_ref21$exchanges","getFunctionSelector","getParamTypes","method_decodeOutput","filter","_ref3","method_Method","Method","outputs","sha3","defaultOptions","shouldPollResponse","forEach","methodArgs","_call","send","_send","watch","_watch","deployed","stateMutability","constant_result","trx","broadcast","checkResult","_callee2","decoded","_args2","regenerator_default","wrap","_context2","prev","abrupt","error","sent","setTimeout","resMessage","contractResult","stop","eventServer","listener","lastBlock","sinceTimestamp","getTime","getEvents","_callee4","events","_events$sort","_events$sort2","latestEvent","newEvents","getEventResult","RegExp","priorEvent","bindListener","clearInterval","setInterval","contract_Contract","Contract","eventListener","methods","methodInstances","props","loadAbi","eventCallback","_getEvents","console","__proto__","prop","methodCall","onMethod","methodName","inputData","decodeInput","new","at","entrys","self","startCallback","_startEventListener","_stopEventListener","TronWeb","possibleConstructorReturn_default","getPrototypeOf_default","setFullNode","setSolidityNode","setEventServer","BigNumber","setPrivateKey","assertThisInitialized_default","abs","setAddress","emit","provider","knownProvider","isValidProvider","setStatusPage","isConnected","currentProviders","eventName","blockNumber","size","page","routeParams","warn","response","getEventByTransactionID","val","fromDecimal","typeof_default","isFinite","Buffer","padEnd","toBigNumber","toNumber","isLessThan","sun","div","times","_unused2","external_eventemitter3_default"],"mappings":"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","file":"TronWeb.node.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/objectSpread\");","module.exports = require(\"ethers\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"@babel/runtime/helpers/slicedToArray\");","module.exports = require(\"bignumber.js\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"js-sha3\");","module.exports = require(\"elliptic\");","module.exports = require(\"@babel/runtime/helpers/typeof\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"axios\");","module.exports = require(\"jssha\");","module.exports = require(\"validator\");","module.exports = require(\"eventemitter3\");","export function Base64() {\n    this._keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n    this.encode = input => {\n        let output = \"\";\n        let chr1;\n        let chr2;\n        let chr3;\n        let enc1;\n        let enc2;\n        let enc3;\n        let enc4;\n        let i = 0;\n\n        while (i < input.length) {\n            chr1 = input.charCodeAt(i++);\n            chr2 = input.charCodeAt(i++);\n            chr3 = input.charCodeAt(i++);\n\n            enc1 = chr1 >> 2;\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n            enc4 = chr3 & 63;\n\n            if (isNaN(chr2))\n                enc3 = enc4 = 64;\n            else if (isNaN(chr3))\n                enc4 = 64;\n\n            output = output +\n                this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\n                this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\n        }\n\n        return output;\n    }\n\n    this.encodeIgnoreUtf8 = inputBytes => {\n        let output = \"\";\n        let chr1;\n        let chr2;\n        let chr3;\n        let enc1;\n        let enc2;\n        let enc3;\n        let enc4;\n        let i = 0;\n\n        while (i < inputBytes.length) {\n            chr1 = inputBytes[i++];\n            chr2 = inputBytes[i++];\n            chr3 = inputBytes[i++];\n\n            enc1 = chr1 >> 2;\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n            enc4 = chr3 & 63;\n\n            if (isNaN(chr2))\n                enc3 = enc4 = 64;\n            else if (isNaN(chr3))\n                enc4 = 64;\n\n            output = output +\n                this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\n                this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\n        }\n\n        return output;\n    }\n\n    this.decode = input => {\n        let output = \"\";\n        let chr1;\n        let chr2;\n        let chr3;\n        let enc1;\n        let enc2;\n        let enc3;\n        let enc4;\n        let i = 0;\n\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n        while (i < input.length) {\n            enc1 = this._keyStr.indexOf(input.charAt(i++));\n            enc2 = this._keyStr.indexOf(input.charAt(i++));\n            enc3 = this._keyStr.indexOf(input.charAt(i++));\n            enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n            chr1 = (enc1 << 2) | (enc2 >> 4);\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n            chr3 = ((enc3 & 3) << 6) | enc4;\n\n            output = output + String.fromCharCode(chr1);\n\n            if (enc3 != 64)\n                output = output + String.fromCharCode(chr2);\n\n            if (enc4 != 64)\n                output = output + String.fromCharCode(chr3);\n        }\n\n        return this._utf8_decode(output);\n    }\n\n    this.decodeToByteArray = input => {\n        let output = \"\";\n        let chr1;\n        let chr2;\n        let chr3;\n        let enc1;\n        let enc2;\n        let enc3;\n        let enc4;\n        let i = 0;\n\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n        while (i < input.length) {\n            enc1 = this._keyStr.indexOf(input.charAt(i++));\n            enc2 = this._keyStr.indexOf(input.charAt(i++));\n            enc3 = this._keyStr.indexOf(input.charAt(i++));\n            enc4 = this._keyStr.indexOf(input.charAt(i++));\n\n            chr1 = (enc1 << 2) | (enc2 >> 4);\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n            chr3 = ((enc3 & 3) << 6) | enc4;\n\n            output = output + String.fromCharCode(chr1);\n\n            if (enc3 != 64)\n                output = output + String.fromCharCode(chr2);\n\n            if (enc4 != 64)\n                output = output + String.fromCharCode(chr3);\n        }\n\n        return this._out2ByteArray(output);\n    }\n\n    this._out2ByteArray = utftext => {\n        const byteArray = new Array(utftext.length);\n\n        let i = 0;\n        let c = 0;\n\n        while (i < utftext.length) {\n            c = utftext.charCodeAt(i);\n            byteArray[i] = c;\n            i++;\n        }\n\n        return byteArray;\n    }\n\n    this._utf8_encode = string => {\n        string = string.replace(/\\r\\n/g, \"\\n\");\n        let utftext = \"\";\n\n        for (let n = 0; n < string.length; n++) {\n            const c = string.charCodeAt(n);\n\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            } else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            } else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n        }\n\n        return utftext;\n    }\n\n    this._utf8_decode = utftext => {\n        let string = \"\";\n        let i = 0;\n        let c = 0;\n        let c2 = 0;\n        let c3 = 0;\n\n        while (i < utftext.length) {\n            c = utftext.charCodeAt(i);\n\n            if (c < 128) {\n                string += String.fromCharCode(c);\n                i++;\n            } else if ((c > 191) && (c < 224)) {\n                c2 = utftext.charCodeAt(i + 1);\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n                i += 2;\n            } else {\n                c2 = utftext.charCodeAt(i + 1);\n                c3 = utftext.charCodeAt(i + 2);\n\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\n                i += 3;\n            }\n        }\n\n        return string;\n    }\n}\n","import { Base64 } from './base64';\n\nexport function byte2hexStr(byte) {\n    if (typeof byte !== 'number')\n        throw new Error('Input must be a number');\n\n    if (byte < 0 || byte > 255)\n        throw new Error('Input must be a byte');\n\n    const hexByteMap = '0123456789ABCDEF';\n\n    let str = '';\n    str += hexByteMap.charAt(byte >> 4);\n    str += hexByteMap.charAt(byte & 0x0f);\n\n    return str;\n}\n\nexport function bytesToString(arr) {\n    if (typeof arr === 'string')\n        return arr;\n\n    let str = '';\n\n    for (let i = 0; i < arr.length; i++) {\n        const one = arr[i].toString(2);\n        const v = one.match(/^1+?(?=0)/);\n\n        if (v && one.length === 8) {\n            const bytesLength = v[0].length;\n            let store = arr[i].toString(2).slice(7 - bytesLength);\n\n            for (let st = 1; st < bytesLength; st++)\n                store += arr[st + i].toString(2).slice(2);\n\n            str += String.fromCharCode(parseInt(store, 2));\n            i += bytesLength - 1;\n        } else {\n            str += String.fromCharCode(arr[i]);\n        }\n    }\n\n    return str;\n}\n\nexport function hextoString(hex) {\n    const arr = hex.replace(/^0x/,'').split('');\n    let out = '';\n\n    for (let i = 0; i < arr.length / 2; i++) {\n        let tmp = `0x${ arr[i * 2] }${ arr[i * 2 + 1] }`;\n        out += String.fromCharCode(tmp);\n    }\n\n    return out;\n}\n\nexport function byteArray2hexStr(byteArray) {\n    let str = '';\n\n    for (let i = 0; i < (byteArray.length); i++)\n        str += byte2hexStr(byteArray[i]);\n\n    return str;\n}\n\nexport function base64DecodeFromString(string64) {\n    return new Base64().decodeToByteArray(string64);\n}\n\nexport function base64EncodeToString(bytes) {\n    const b = new Base64();\n    const string64 = b.encodeIgnoreUtf8(bytes);\n\n    return string64\n}\n\n","export const ADDRESS_SIZE = 34;\nexport const ADDRESS_PREFIX = \"41\";\nexport const ADDRESS_PREFIX_BYTE = 0x41;\n","\nimport { byte2hexStr, bytesToString, hextoString, byteArray2hexStr, base64DecodeFromString, base64EncodeToString } from './bytes';\n\nexport function bin2String(array) {\n    // TODO Do we need this alias?\n    return bytesToString(array);\n}\n\nexport function arrayEquals(array1, array2, strict) {\n    if (array1.length != array2.length)\n        return false;\n        \n    let i;\n\n    for (i = 0; i < array1.length; i++) {\n        if (strict) {\n            if (array1[i] != array2[i])\n                return false;\n        } else if (JSON.stringify(array1[i]) != JSON.stringify(array2[i]))\n            return false;\n    }\n\n    return true;\n}\n\nexport function stringToBytes(str) {\n\n    if (typeof str !== 'string')\n        throw new Error('The passed string is not a string')\n\n    const bytes = new Array();\n    let len;\n    let c;\n\n    len = str.length;\n\n    for (let i = 0; i < len; i++) {\n        c = str.charCodeAt(i);\n\n        if (c >= 0x010000 && c <= 0x10FFFF) {\n            bytes.push(((c >> 18) & 0x07) | 0xF0);\n            bytes.push(((c >> 12) & 0x3F) | 0x80);\n            bytes.push(((c >> 6) & 0x3F) | 0x80);\n            bytes.push((c & 0x3F) | 0x80);\n        } else if (c >= 0x000800 && c <= 0x00FFFF) {\n            bytes.push(((c >> 12) & 0x0F) | 0xE0);\n            bytes.push(((c >> 6) & 0x3F) | 0x80);\n            bytes.push((c & 0x3F) | 0x80);\n        } else if (c >= 0x000080 && c <= 0x0007FF) {\n            bytes.push(((c >> 6) & 0x1F) | 0xC0);\n            bytes.push((c & 0x3F) | 0x80);\n        } else bytes.push(c & 0xFF);\n    }\n\n    return bytes;\n}\n\nexport { byte2hexStr, bytesToString, hextoString, byteArray2hexStr, base64DecodeFromString, base64EncodeToString }\n\nexport function hexChar2byte(c) {\n    let d;\n\n    if (c >= 'A' && c <= 'F')\n        d = c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n    else if (c >= 'a' && c <= 'f')\n        d = c.charCodeAt(0) - 'a'.charCodeAt(0) + 10;\n    else if (c >= '0' && c <= '9')\n        d = c.charCodeAt(0) - '0'.charCodeAt(0);\n\n    if (typeof d === 'number')\n        return d;\n    else\n        throw new Error('The passed hex char is not a valid hex char');\n}\n\nexport function isHexChar(c) {\n    if ((c >= 'A' && c <= 'F') ||\n        (c >= 'a' && c <= 'f') ||\n        (c >= '0' && c <= '9')) {\n        return 1;\n    }\n\n    return 0;\n}\n\nexport function hexStr2byteArray(str) {\n    if (typeof str !== 'string')\n        throw new Error('The passed string is not a string')\n\n    const byteArray = Array();\n    let d = 0;\n    let j = 0;\n    let k = 0;\n\n    for (let i = 0; i < str.length; i++) {\n        const c = str.charAt(i);\n\n        if (isHexChar(c)) {\n            d <<= 4;\n            d += hexChar2byte(c);\n            j++;\n\n            if (0 === (j % 2)) {\n                byteArray[k++] = d;\n                d = 0;\n            }\n        } else\n            throw new Error('The passed hex char is not a valid hex string')\n    }\n\n    return byteArray;\n}\n\n//yyyy-MM-DD HH-mm-ss\nexport function strToDate(str) {\n\n    if (!/^\\d{4}-\\d{2}-\\d{2}( \\d{2}-\\d{2}-\\d{2}|)/.test(str))\n        throw new Error('The passed date string is not valid')\n\n    const tempStrs = str.split(\" \");\n    const dateStrs = tempStrs[0].split(\"-\");\n    const year = parseInt(dateStrs[0], 10);\n    const month = parseInt(dateStrs[1], 10) - 1;\n    const day = parseInt(dateStrs[2], 10);\n\n    if (tempStrs.length > 1) {\n        const timeStrs = tempStrs[1].split(\"-\");\n        const hour = parseInt(timeStrs[0] , 10);\n        const minute = parseInt(timeStrs[1], 10);\n        const second = parseInt(timeStrs[2], 10);\n\n        return new Date(year, month, day, hour, minute, second);\n    }\n\n    return new Date(year, month, day);\n}\n\nexport function isNumber(c) {\n    if (c >= '0' && c <= '9')\n        return 1;\n        \n    return 0;\n}\n\n//return 1: address  --- 20Bytes HexString\n//return 2: blockNumber ------ Decimal number\n//return 3: assetName ------ String\n//return other: error\nexport function getStringType(str) {\n    if (null == str)\n        return -1;\n\n    if (typeof (str) != 'string')\n        return -1;\n\n    if (str.length == 0 || str == \"\")\n        return -1;\n\n    let i = 0;\n\n    // TODO Should we return 1 if someone passes a full, 42-chars long address?\n    // if (str.length == 42 && /^41/.test(str)) {\n    //     for (; i < 40; i++) {\n    //         var c = str.charAt(i+2);\n    //\n    //         if (!isHexChar(c))\n    //             break;\n    //     }\n    // } else\n    if (str.length == 40) {\n        for (; i < 40; i++) {\n            var c = str.charAt(i);\n\n            if (!isHexChar(c))\n                break;\n        }\n    }\n\n    if (i == 40)\n        return 1; //40 Hex, Address\n\n    for (i = 0; i < str.length; i++) {\n        var c = str.charAt(i);\n\n        if (!isNumber(c))\n            break;\n    }\n\n    if (i == str.length)\n        return 2; // All Decimal number, BlockNumber\n\n    for (i = 0; i < str.length; i++) {\n        var c = str.charAt(i);\n\n        if (c > ' ')\n            return 3; // At least one visible character\n    }\n\n    return -1;\n}\n","const ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';\nconst ALPHABET_MAP = {};\n\nfor (let i = 0; i < ALPHABET.length; i++)\n    ALPHABET_MAP[ALPHABET.charAt(i)] = i;\n\nconst BASE = 58;\n\nexport function encode58(buffer) {\n    if (buffer.length === 0)\n        return '';\n\n    let i;\n    let j;\n\n    const digits = [0];\n\n    for (i = 0; i < buffer.length; i++) {\n        for (j = 0; j < digits.length; j++) \n            digits[j] <<= 8;\n\n        digits[0] += buffer[i];\n        let carry = 0;\n\n        for (j = 0; j < digits.length; ++j) {\n            digits[j] += carry;\n            carry = (digits[j] / BASE) | 0;\n            digits[j] %= BASE\n        }\n\n        while (carry) {\n            digits.push(carry % BASE);\n            carry = (carry / BASE) | 0\n        }\n    }\n\n    for (i = 0; buffer[i] === 0 && i < buffer.length - 1; i++) \n        digits.push(0);\n\n    return digits.reverse().map(digit => ALPHABET[digit]).join('');\n}\n\nexport function decode58(string) {\n    if (string.length === 0)\n        return [];\n\n    let i;\n    let j;\n\n    const bytes = [0];\n\n    for (i = 0; i < string.length; i++) {\n        const c = string[i];\n\n        if (!(c in ALPHABET_MAP))\n            throw new Error('Non-base58 character');\n\n        for (j = 0; j < bytes.length; j++) \n            bytes[j] *= BASE;\n\n        bytes[0] += ALPHABET_MAP[c];\n        let carry = 0;\n\n        for (j = 0; j < bytes.length; ++j) {\n            bytes[j] += carry;\n            carry = bytes[j] >> 8;\n            bytes[j] &= 0xff;\n        }\n\n        while (carry) {\n            bytes.push(carry & 0xff);\n            carry >>= 8;\n        }\n    }\n\n    for (i = 0; string[i] === '1' && i < string.length - 1; i++)\n        bytes.push(0);\n\n    return bytes.reverse();\n}\n","import jsSHA from 'jssha';\n\nimport { ADDRESS_PREFIX, ADDRESS_PREFIX_BYTE, ADDRESS_SIZE } from './address';\nimport { base64EncodeToString } from './code';\nimport { base64DecodeFromString, hexStr2byteArray } from './code';\nimport { encode58, decode58 } from './base58';\nimport { keccak256 } from 'js-sha3';\nimport { byte2hexStr, byteArray2hexStr } from './bytes';\nimport { ec as EC } from 'elliptic';\n\nexport function getBase58CheckAddress(addressBytes) {\n    const hash0 = SHA256(addressBytes);\n    const hash1 = SHA256(hash0);\n\n    let checkSum = hash1.slice(0, 4);\n    checkSum = addressBytes.concat(checkSum);\n\n    return encode58(checkSum);\n}\n\nexport function decodeBase58Address(base58Sting) {\n    if (typeof (base58Sting) != 'string')\n        return false;\n\n    if (base58Sting.length <= 4)\n        return false;\n\n    let address = decode58(base58Sting);\n\n    if (base58Sting.length <= 4)\n        return false;\n\n    const len = address.length;\n    const offset = len - 4;\n    const checkSum = address.slice(offset);\n\n    address = address.slice(0, offset);\n\n    const hash0 = SHA256(address);\n    const hash1 = SHA256(hash0);\n    const checkSum1 = hash1.slice(0, 4);\n\n    if (checkSum[0] == checkSum1[0] && checkSum[1] == checkSum1[1] && checkSum[2] ==\n        checkSum1[2] && checkSum[3] == checkSum1[3]\n    ) {\n        return address;\n    }\n\n    throw new Error('Invalid address provided');\n}\n\nexport function signTransaction(priKeyBytes, transaction) {\n    if (typeof priKeyBytes === 'string')\n        priKeyBytes = hexStr2byteArray(priKeyBytes);\n\n    const txID = transaction.txID;\n    const signature = ECKeySign(hexStr2byteArray(txID), priKeyBytes);\n\n    transaction.signature = [ signature ];\n    return transaction;\n}\n\nexport function arrayToBase64String(a) {\n    return btoa(String.fromCharCode(...a));\n}\n\nexport function signBytes(privateKey, contents) {\n    if (typeof privateKey === 'string')\n        privateKey = hexStr2byteArray(privateKey);\n\n    const hashBytes = SHA256(contents);\n    const signBytes = ECKeySign(hashBytes, privateKey);\n\n    return signBytes;\n}\n\nexport function getRowBytesFromTransactionBase64(base64Data) {\n    const bytesDecode = base64DecodeFromString(base64Data);\n    const transaction = proto.protocol.Transaction.deserializeBinary(bytesDecode);\n    const raw = transaction.getRawData();\n\n    return raw.serializeBinary();\n}\n\nexport function genPriKey() {\n    const ec = new EC('secp256k1');\n    const key = ec.genKeyPair();\n    const priKey = key.getPrivate();\n\n    let priKeyHex = priKey.toString('hex');\n\n    while (priKeyHex.length < 64) {\n        priKeyHex = `0${priKeyHex}`;\n    }\n\n    return hexStr2byteArray(priKeyHex);\n}\n\nexport function computeAddress(pubBytes) {\n    if (pubBytes.length === 65)\n        pubBytes = pubBytes.slice(1);\n\n    const hash = keccak256(pubBytes).toString();\n    const addressHex = ADDRESS_PREFIX + hash.substring(24);\n\n    return hexStr2byteArray(addressHex);\n}\n\nexport function getAddressFromPriKey(priKeyBytes) {\n    let pubBytes = getPubKeyFromPriKey(priKeyBytes);\n    return computeAddress(pubBytes);\n}\n\nexport function decode58Check(addressStr) {\n    const decodeCheck = decode58(addressStr);\n\n    if (decodeCheck.length <= 4)\n        return false;\n\n    const decodeData = decodeCheck.slice(0, decodeCheck.length - 4);\n    const hash0 = SHA256(decodeData);\n    const hash1 = SHA256(hash0);\n\n    if (hash1[0] === decodeCheck[decodeData.length] &&\n        hash1[1] === decodeCheck[decodeData.length + 1] &&\n        hash1[2] === decodeCheck[decodeData.length + 2] &&\n        hash1[3] === decodeCheck[decodeData.length + 3]) {\n        return decodeData;\n    }\n\n    return false;\n}\n\nexport function isAddressValid(base58Str) {\n    if (typeof (base58Str) !== 'string')\n        return false;\n        \n    if (base58Str.length !== ADDRESS_SIZE)\n        return false;\n\n    let address = decode58(base58Str);\n\n    if (address.length !== 25)\n        return false;\n        \n    if (address[0] !== ADDRESS_PREFIX_BYTE)\n        return false;\n        \n    const checkSum = address.slice(21);\n    address = address.slice(0, 21);\n\n    const hash0 = SHA256(address);\n    const hash1 = SHA256(hash0);\n    const checkSum1 = hash1.slice(0, 4);\n\n    if (checkSum[0] == checkSum1[0] && checkSum[1] == checkSum1[1] && checkSum[2] ==\n        checkSum1[2] && checkSum[3] == checkSum1[3]\n    ) {\n        return true\n    }\n\n    return false;\n}\n\nexport function getBase58CheckAddressFromPriKeyBase64String(priKeyBase64String) {\n    const priKeyBytes = base64DecodeFromString(priKeyBase64String);\n    const pubBytes = getPubKeyFromPriKey(priKeyBytes);\n    const addressBytes = computeAddress(pubBytes);\n\n    return getBase58CheckAddress(addressBytes);\n}\n\nexport function getHexStrAddressFromPriKeyBase64String(priKeyBase64String) {\n    const priKeyBytes = base64DecodeFromString(priKeyBase64String);\n    const pubBytes = getPubKeyFromPriKey(priKeyBytes);\n    const addressBytes = computeAddress(pubBytes);\n    const addressHex = byteArray2hexStr(addressBytes);\n\n    return addressHex;\n}\n\nexport function getAddressFromPriKeyBase64String(priKeyBase64String) {\n    const priKeyBytes = base64DecodeFromString(priKeyBase64String);\n    const pubBytes = getPubKeyFromPriKey(priKeyBytes);\n    const addressBytes = computeAddress(pubBytes);\n    const addressBase64 = base64EncodeToString(addressBytes);\n\n    return addressBase64;\n}\n\nexport function getPubKeyFromPriKey(priKeyBytes) {\n    const ec = new EC('secp256k1');\n    const key = ec.keyFromPrivate(priKeyBytes, 'bytes');\n    const pubkey = key.getPublic();\n    const x = pubkey.x;\n    const y = pubkey.y;\n\n    let xHex = x.toString('hex');\n\n    while (xHex.length < 64) {\n        xHex = `0${xHex}`;\n    }\n\n    let yHex = y.toString('hex');\n\n    while (yHex.length < 64) {\n        yHex = `0${yHex}`;\n    }\n\n    const pubkeyHex = `04${xHex}${yHex}`;\n    const pubkeyBytes = hexStr2byteArray(pubkeyHex);\n\n    return pubkeyBytes;\n}\n\nexport function ECKeySign(hashBytes, priKeyBytes) {\n    const ec = new EC('secp256k1');\n    const key = ec.keyFromPrivate(priKeyBytes, 'bytes');\n    const signature = key.sign(hashBytes);\n    const r = signature.r;\n    const s = signature.s;\n    const id = signature.recoveryParam;\n\n    let rHex = r.toString('hex');\n\n    while (rHex.length < 64) {\n        rHex = `0${rHex}`;\n    }\n\n    let sHex = s.toString('hex');\n\n    while (sHex.length < 64) {\n        sHex = `0${sHex}`;\n    }\n\n    const idHex = byte2hexStr(id);\n    const signHex = rHex + sHex + idHex;\n\n    return signHex;\n}\n\nexport function SHA256(msgBytes) {\n    const shaObj = new jsSHA('SHA-256', 'HEX');\n    const msgHex = byteArray2hexStr(msgBytes);\n\n    shaObj.update(msgHex);\n    const hashHex = shaObj.getHash('HEX');\n\n    return hexStr2byteArray(hashHex);\n}\n\nexport function passwordToAddress(password) {\n    const com_priKeyBytes = base64DecodeFromString(password);\n    const com_addressBytes = getAddressFromPriKey(com_priKeyBytes);\n\n    return getBase58CheckAddress(com_addressBytes);\n}\n\nexport function pkToAddress(privateKey) {\n    const com_priKeyBytes = hexStr2byteArray(privateKey);\n    const com_addressBytes = getAddressFromPriKey(com_priKeyBytes);\n\n    return getBase58CheckAddress(com_addressBytes);\n}\n","import { byteArray2hexStr } from './bytes';\nimport { \n    getBase58CheckAddress,\n    genPriKey,\n    getAddressFromPriKey,\n    getPubKeyFromPriKey\n} from './crypto';\n\nexport function generateAccount() {\n    const priKeyBytes = genPriKey();\n    const pubKeyBytes = getPubKeyFromPriKey(priKeyBytes);\n    const addressBytes = getAddressFromPriKey(priKeyBytes);\n    \n    const privateKey = byteArray2hexStr(priKeyBytes);\n    const publicKey = byteArray2hexStr(pubKeyBytes);\n\n    return {\n        privateKey,\n        publicKey,\n        address: {\n            base58: getBase58CheckAddress(addressBytes),\n            hex: byteArray2hexStr(addressBytes)\n        }\n    }\n}","import * as Ethers from 'ethers';\nimport TronWeb from 'index';\n\nconst abiCoder = new Ethers.utils.AbiCoder();\n\nexport function decodeParams(names, types, output, ignoreMethodHash) {\n\n    if (!output || typeof output === 'boolean') {\n        ignoreMethodHash = output;\n        output = types;\n        types = names;\n        names = [];\n    }\n\n    if (ignoreMethodHash && output.replace(/^0x/,'').length % 64 === 8)\n        output = '0x' + output.replace(/^0x/,'').substring(8);\n\n    if (output.replace(/^0x/,'').length % 64)\n        throw new Error('The encoded string is not valid. Its length must be a multiple of 64.');\n\n    return abiCoder.decode(types, output).reduce((obj, arg, index) => {\n        if(types[index] == 'address')\n            arg = '41' + arg.substr(2).toLowerCase();\n\n        if(names.length)\n            obj[names[index]] = arg;\n        else obj.push(arg);\n\n        return obj;\n    }, names.length ? {} : []);\n}\n\nexport function encodeParams(types, values) {\n\n    for (let i =0;i<types.length;i++) {\n        if (types[i] === 'address') {\n            values[i] =  TronWeb.address.toHex(values[i]).replace(/^41/, '0x');\n        }\n    }\n\n    return abiCoder.encode(types, values);\n}\n","import * as accounts from './accounts';\nimport * as base58 from './base58';\nimport * as bytes from './bytes';\nimport * as crypto from './crypto';\nimport * as code from './code';\nimport * as abi from './abi';\n\nimport validator from 'validator';\nimport BigNumber from 'bignumber.js';\n\nconst utils = {\n    isValidURL(url) {\n        if (typeof url !== 'string')\n            return false;\n        return validator.isURL(url.toString(), {\n            protocols: [ 'http', 'https' ]\n        });\n    },\n\n    isObject(obj) {\n        return obj === Object(obj) && Object.prototype.toString.call(obj) !== '[object Array]';\n    },\n\n    isArray(array) {\n        return Array.isArray(array);\n    },\n\n    isJson(string) {\n        try {\n            return !!JSON.parse(string);\n        } catch (ex) {\n            return false;\n        }\n    },\n\n    isBoolean(bool) {\n        return typeof bool === 'boolean';\n    },\n\n    isBigNumber(number) {\n        return number && (number instanceof BigNumber || (number.constructor && number.constructor.name === 'BigNumber'));\n    },\n\n    isString(string) {\n        return typeof string === 'string' || (string && string.constructor && string.constructor.name === 'String');\n    },\n\n    isFunction(obj) {\n        return typeof obj === 'function';\n    },\n\n    isHex(string) {\n        return (typeof string === 'string'\n            && !isNaN(parseInt(string, 16))\n            && /^(0x|)[a-fA-F0-9]+$/.test(string));\n    },\n\n    isInteger(number) {\n        if (number === null)\n            return false\n        return Number.isInteger(\n            Number(number)\n        );\n    },\n\n    hasProperty(obj, property) {\n        return Object.prototype.hasOwnProperty.call(obj, property);\n    },\n\n    hasProperties(obj, ...properties) {\n        return properties.length && !properties.map(property => {\n            return this.hasProperty(obj, property)\n        }).includes(false);\n    },\n\n    injectPromise(func, ...args) {\n        return new Promise((resolve, reject) => {\n            func(...args, (err, res) => {\n                if(err)\n                    reject(err);\n                else resolve(res);\n            });\n        });\n    },\n\n    promiseInjector(scope) {\n        return (func, ...args) => {\n            return this.injectPromise(func.bind(scope), ...args);\n        }\n    },\n\n    mapEvent(event) {\n        return {\n            block: event.block_number,\n            timestamp: event.block_timestamp,\n            contract: event.contract_address,\n            name: event.event_name,\n            transaction: event.transaction_id,\n            result: event.result,\n            resourceNode: event.resource_Node\n        };\n    },\n\n    parseEvent(event, { inputs: abi }) {\n        if(!event.result)\n            return event;\n\n        if (this.isObject(event.result)) {\n            for (var i = 0; i < abi.length; i++) {\n                let obj = abi[i];\n                if (obj.type == 'address' && obj.name in event.result)\n                    event.result[obj.name] = '41' + event.result[obj.name].substr(2).toLowerCase();\n            }\n        } else if (this.isArray(event.result)) {\n            event.result = event.result.reduce((obj, result, index) => {\n                const {\n                    name,\n                    type\n                } = abi[index];\n\n                if(type == 'address')\n                    result = '41' + result.substr(2).toLowerCase();\n\n                obj[name] = result;\n\n                return obj;\n            }, {});\n        }\n\n        return event;\n    },\n\n    padLeft(input, padding, amount) {\n        let res = input.toString();\n\n        while(res.length < amount)\n            res = padding + res;\n\n        return res;\n    }\n}\n\nexport default {\n    ...utils,\n    code,\n    accounts,\n    base58,\n    bytes,\n    crypto,\n    abi\n};\n","import HttpProvider from './HttpProvider';\n\nexport default {\n    HttpProvider\n};","import axios from 'axios';\nimport utils from 'utils';\n\nexport default class HttpProvider {\n    constructor(host, timeout = 30000, user = false, password = false, headers = {}, statusPage = '/') {\n        if(!utils.isValidURL(host))\n            throw new Error('Invalid URL provided to HttpProvider');\n\n        if(isNaN(timeout) || timeout < 0)\n            throw new Error('Invalid timeout duration provided');\n\n        if(!utils.isObject(headers))\n            throw new Error('Invalid headers object provided');\n\n        host = host.replace(/\\/+$/,'');\n\n        this.host = host;\n        this.timeout = timeout;\n        this.user = user;\n        this.password = password;\n        this.headers = headers;\n        this.statusPage = statusPage;\n\n        this.instance = axios.create({\n            baseURL: host,\n            timeout: timeout,\n            headers: headers,\n            auth: user && {\n                user,\n                password\n            },\n        });\n    }\n\n    setStatusPage(statusPage = '/') {\n        this.statusPage = statusPage;\n    }\n\n    async isConnected(statusPage = this.statusPage) {\n        return this.request(statusPage).then(data => {\n            return utils.hasProperties(data, 'blockID', 'block_header');\n        }).catch(() => false);\n    }\n\n    request(url, payload = {}, method = 'get') {\n        method = method.toLowerCase();\n\n        return this.instance.request({\n            data: method == 'post' && Object.keys(payload).length ? payload : null,\n            params: method =='get' && payload,\n            url,\n            method\n        }).then(({ data }) => data);\n    }\n};\n","import TronWeb from 'index';\nimport utils from 'utils';\nimport * as Ethers from 'ethers';\n\n\nconst transactionResultManager = (transaction, callback) => {\n    if(transaction.Error)\n        return callback(transaction.Error);\n\n    if(transaction.result && transaction.result.message) {\n        return callback(\n            this.tronWeb.toUtf8(transaction.result.message)\n        );\n    }\n    callback(null, transaction);\n}\n\nexport default class TransactionBuilder {\n    constructor(tronWeb = false) {\n        if(!tronWeb || !tronWeb instanceof TronWeb)\n            throw new Error('Expected instance of TronWeb');\n\n        this.tronWeb = tronWeb;\n        this.injectPromise = utils.promiseInjector(this);\n    }\n\n    sendTrx(to = false, amount = 0, from = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(from)) {\n            callback = from;\n            from = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.sendTrx, to, amount, from);\n\n        if(!this.tronWeb.isAddress(to))\n            return callback('Invalid recipient address provided');\n\n        if(!utils.isInteger(amount) || amount <= 0)\n            return callback('Invalid amount provided');\n\n        if(!this.tronWeb.isAddress(from))\n            return callback('Invalid origin address provided');\n\n        to = this.tronWeb.address.toHex(to);\n        from = this.tronWeb.address.toHex(from);\n\n        if(to === from)\n            return callback('Cannot transfer TRX to the same account');\n\n        this.tronWeb.fullNode.request('wallet/createtransaction', {\n            to_address: to,\n            owner_address: from,\n            amount: parseInt(amount)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    sendToken(to = false, amount = 0, tokenID = false, from = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(from)) {\n            callback = from;\n            from = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.sendToken, to, amount, tokenID, from);\n\n        if(!this.tronWeb.isAddress(to))\n            return callback('Invalid recipient address provided');\n\n        if(!utils.isInteger(amount) || amount <= 0)\n            return callback('Invalid amount provided');\n\n        if(!utils.isString(tokenID) || !tokenID.length)\n            return callback('Invalid token ID provided');\n\n        if(!this.tronWeb.isAddress(from))\n            return callback('Invalid origin address provided');\n\n        to = this.tronWeb.address.toHex(to);\n        tokenID = this.tronWeb.fromUtf8(tokenID);\n        from = this.tronWeb.address.toHex(from);\n\n        if(to === from)\n            return callback('Cannot transfer tokens to the same account');\n\n        this.tronWeb.fullNode.request('wallet/transferasset', {\n            to_address: to,\n            owner_address: from,\n            asset_name: tokenID,\n            amount: parseInt(amount)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    purchaseToken(issuerAddress = false, tokenID = false, amount = 0, buyer = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(buyer)) {\n            callback = buyer;\n            buyer = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.purchaseToken, issuerAddress, tokenID, amount, buyer);\n\n        if(!this.tronWeb.isAddress(issuerAddress))\n            return callback('Invalid issuer address provided');\n\n        if(!utils.isString(tokenID) || !tokenID.length)\n            return callback('Invalid token ID provided');\n\n        if(!utils.isInteger(amount) || amount <= 0)\n            return callback('Invalid amount provided');\n\n        if(!this.tronWeb.isAddress(buyer))\n            return callback('Invalid buyer address provided');\n\n        this.tronWeb.fullNode.request('wallet/participateassetissue', {\n            to_address: this.tronWeb.address.toHex(issuerAddress),\n            owner_address: this.tronWeb.address.toHex(buyer),\n            asset_name: this.tronWeb.fromUtf8(tokenID),\n            amount: parseInt(amount)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    freezeBalance(amount = 0, duration = 3, resource = \"BANDWIDTH\", address = this.tronWeb.defaultAddress.hex, callback = false)\n    {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(utils.isFunction(duration)) {\n            callback = duration;\n            duration = 3;\n        }\n\n        if(utils.isFunction(resource)) {\n            callback = resource;\n            resource = \"BANDWIDTH\";\n        }\n\n        if(!callback)\n            return this.injectPromise(this.freezeBalance, amount, duration, resource, address);\n\n        if(![ 'BANDWIDTH', 'ENERGY' ].includes(resource))\n            return callback('Invalid resource provided: Expected \"BANDWIDTH\" or \"ENERGY\"');\n\n        if(!utils.isInteger(amount) || amount <= 0)\n            return callback('Invalid amount provided');\n\n        if(!utils.isInteger(duration) || duration < 3)\n            return callback('Invalid duration provided, minimum of 3 days');\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        this.tronWeb.fullNode.request('wallet/freezebalance', {\n            owner_address: this.tronWeb.address.toHex(address),\n            frozen_balance: parseInt(amount),\n            frozen_duration: parseInt(duration),\n            resource: resource\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    unfreezeBalance(resource = \"BANDWIDTH\", address = this.tronWeb.defaultAddress.hex, callback = false)\n    {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(utils.isFunction(resource)) {\n            callback = resource;\n            resource = \"BANDWIDTH\";\n        }\n\n        if(!callback)\n            return this.injectPromise(this.unfreezeBalance, resource, address);\n\n        if(![ 'BANDWIDTH', 'ENERGY' ].includes(resource))\n            return callback('Invalid resource provided: Expected \"BANDWIDTH\" or \"ENERGY\"');\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        this.tronWeb.fullNode.request('wallet/unfreezebalance', {\n            owner_address: this.tronWeb.address.toHex(address),\n            resource: resource\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    withdrawBlockRewards(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.withdrawBlockRewards, address);\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        this.tronWeb.fullNode.request('wallet/withdrawbalance', {\n            owner_address: this.tronWeb.address.toHex(address)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    applyForSR(address = this.tronWeb.defaultAddress.hex, url = false, callback = false) {\n        if(utils.isValidURL(address)) {\n            callback = url || false;\n            url = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.applyForSR, address, url);\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        if(!utils.isValidURL(url))\n            return callback('Invalid url provided');\n\n        this.tronWeb.fullNode.request('wallet/createwitness', {\n            owner_address: this.tronWeb.address.toHex(address),\n            url: this.tronWeb.fromUtf8(url)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    vote(votes = {}, voterAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(voterAddress)) {\n            callback = voterAddress;\n            voterAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.vote, votes, voterAddress);\n\n        if(!utils.isObject(votes) || !Object.keys(votes).length)\n            return callback('Invalid votes object provided');\n\n        if(!this.tronWeb.isAddress(voterAddress))\n            return callback('Invalid voter address provided');\n\n        let invalid = false;\n\n        votes = Object.entries(votes).map(([ srAddress, voteCount ]) => {\n            if(invalid)\n                return;\n\n            if(!this.tronWeb.isAddress(srAddress)) {\n                callback('Invalid SR address provided: ' + srAddress);\n                return invalid = true;\n            }\n\n            if(!utils.isInteger(voteCount) || voteCount <= 0) {\n                callback('Invalid vote count provided for SR: ' + srAddress);\n                return invalid = true;\n            }\n\n            return {\n                vote_address: this.tronWeb.address.toHex(srAddress),\n                vote_count: parseInt(voteCount)\n            };\n        });\n\n        if(invalid)\n            return;\n\n        this.tronWeb.fullNode.request('wallet/votewitnessaccount', {\n            owner_address: this.tronWeb.address.toHex(voterAddress),\n            votes\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    createSmartContract(options = {}, issuerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(issuerAddress)) {\n            callback = issuerAddress;\n            issuerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.createSmartContract, options, issuerAddress);\n\n        const feeLimit = options.feeLimit || options.fee_limit || 1_000_000_000;\n        const userFeePercentage = options.userFeePercentage || options.consume_user_resource_percent || 0;\n        const originEnergyLimit = options.originEnergyLimit || options.origin_energy_limit || 10_000_000;\n        const callValue = options.callValue || options.call_value || 0;\n        const tokenValue = options.tokenValue || options.token_value;\n        const tokenId = options.tokenId || options.token_id;\n\n        let {\n            abi = false,\n            bytecode = false,\n            parameters = [],\n            name = \"\"\n        } = options;\n\n\n        if(abi && utils.isString(abi)) {\n            try {\n                abi = JSON.parse(abi);\n            } catch{\n                return callback('Invalid options.abi provided');\n            }\n        }\n\n        if(!utils.isArray(abi))\n            return callback('Invalid options.abi provided');\n\n\n        const payable = abi.some(func => {\n            return func.type == 'constructor' && func.payable;\n        });\n\n        if(!utils.isHex(bytecode))\n            return callback('Invalid options.bytecode provided');\n\n        if(!utils.isInteger(feeLimit) || feeLimit <= 0 || feeLimit > 1_000_000_000)\n            return callback('Invalid options.feeLimit provided');\n\n        if(!utils.isInteger(callValue) || callValue < 0)\n            return callback('Invalid options.callValue provided');\n\n        if(payable && callValue == 0)\n            return callback('When contract is payable, options.callValue must be a positive integer');\n\n        if(!payable && callValue > 0)\n            return callback('When contract is not payable, options.callValue must be 0');\n\n        if(!utils.isInteger(userFeePercentage) || userFeePercentage < 0 || userFeePercentage > 100)\n            return callback('Invalid options.userFeePercentage provided');\n\n        if(!utils.isInteger(originEnergyLimit) || originEnergyLimit < 0 || originEnergyLimit > 10_000_000)\n            return callback('Invalid options.originEnergyLimit provided');\n\n        if(!utils.isArray(parameters))\n            return callback('Invalid parameters provided');\n\n        if(!this.tronWeb.isAddress(issuerAddress))\n            return callback('Invalid issuer address provided');\n\n        var constructorParams = abi.find(\n            (it) => {\n                return it.type === 'constructor';\n            }\n        );\n\n        if(tokenValue && !utils.isInteger(tokenValue) || tokenValue < 0)\n            return callback('Invalid options.tokenValue provided');\n\n        if(tokenId && !utils.isInteger(tokenId) || tokenValue < 0)\n            return callback('Invalid options.tokenValue provided');\n\n        if(typeof constructorParams !== 'undefined' && constructorParams) {\n            const abiCoder = new Ethers.utils.AbiCoder();\n            const types = [];\n            const values = [];\n            constructorParams = constructorParams.inputs;\n\n            if(parameters.length != constructorParams.length)\n                return callback(`constructor needs ${constructorParams.length} but ${parameters.length} provided`);\n\n            for(let i = 0; i < parameters.length; i++) {\n                let type = constructorParams[i].type;\n                let value = parameters[i];\n\n                if(!type || !utils.isString(type) || !type.length)\n                    return callback('Invalid parameter type provided: ' + type);\n\n                if(type == 'address')\n                    value = this.tronWeb.address.toHex(value).replace(/^(41)/, '0x');\n\n                types.push(type);\n                values.push(value);\n            }\n\n            try {\n                parameters = abiCoder.encode(types, values).replace(/^(0x)/, '');\n            } catch (ex) {\n                return callback(ex);\n            }\n        } else parameters = '';\n\n        const args = {\n            owner_address: this.tronWeb.address.toHex(issuerAddress),\n            fee_limit: parseInt(feeLimit),\n            call_value: parseInt(callValue),\n            consume_user_resource_percent: userFeePercentage,\n            origin_energy_limit: originEnergyLimit,\n            abi: JSON.stringify(abi),\n            bytecode,\n            parameter: parameters,\n            name\n        }\n\n        // tokenValue and tokenId can cause errors if provided when the trx10 proposal has not been approved yet. So we set them only if they are passed to the method.\n        if (tokenValue)\n            args.token_value = tokenValue\n        if (tokenId)\n            args.token_id = tokenId\n\n        this.tronWeb.fullNode.request('wallet/deploycontract', args, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    triggerSmartContract(\n        contractAddress,\n        functionSelector,\n        feeLimit = 1_000_000_000,\n        callValue = 0,\n        parameters = [],\n        issuerAddress = this.tronWeb.defaultAddress.hex,\n        callback = false\n    ) {\n        if(utils.isFunction(issuerAddress)) {\n            callback = issuerAddress;\n            issuerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(utils.isFunction(parameters)) {\n            callback = parameters;\n            parameters = [];\n        }\n\n        if(utils.isFunction(callValue)) {\n            callback = callValue;\n            callValue = 0;\n        }\n\n        if(utils.isFunction(feeLimit)) {\n            callback = feeLimit;\n            feeLimit = 1_000_000_000;\n        }\n\n        if(!callback) {\n            return this.injectPromise(\n                this.triggerSmartContract,\n                contractAddress,\n                functionSelector,\n                feeLimit,\n                callValue,\n                parameters,\n                issuerAddress\n            );\n        }\n\n        if(!this.tronWeb.isAddress(contractAddress))\n            return callback('Invalid contract address provided');\n\n        if(!utils.isString(functionSelector) || !functionSelector.length)\n            return callback('Invalid function selector provided');\n\n        if(!utils.isInteger(callValue) || callValue < 0)\n            return callback('Invalid call value provided');\n\n        if(!utils.isInteger(feeLimit) || feeLimit <= 0 || feeLimit > 1_000_000_000)\n            return callback('Invalid fee limit provided');\n\n        if(!utils.isArray(parameters))\n            return callback('Invalid parameters provided');\n\n        if(!this.tronWeb.isAddress(issuerAddress))\n            return callback('Invalid issuer address provided');\n\n        functionSelector = functionSelector.replace('/\\s*/g', '');\n\n        if(parameters.length) {\n            const abiCoder = new Ethers.utils.AbiCoder();\n            const types = [];\n            const values = [];\n\n            for(let i = 0; i < parameters.length; i++) {\n                let { type, value } = parameters[i];\n\n                if(!type || !utils.isString(type) || !type.length)\n                    return callback('Invalid parameter type provided: ' + type);\n\n                if(type == 'address')\n                    value = this.tronWeb.address.toHex(value).replace(/^(41)/, '0x');\n\n                types.push(type);\n                values.push(value);\n            }\n\n            try {\n                parameters = abiCoder.encode(types, values).replace(/^(0x)/, '');\n            } catch (ex) {\n                return callback(ex);\n            }\n        } else parameters = '';\n\n        this.tronWeb.fullNode.request('wallet/triggersmartcontract', {\n            contract_address: this.tronWeb.address.toHex(contractAddress),\n            owner_address: this.tronWeb.address.toHex(issuerAddress),\n            function_selector: functionSelector,\n            fee_limit: parseInt(feeLimit),\n            call_value: parseInt(callValue),\n            parameter: parameters\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    createToken(options = {}, issuerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(issuerAddress)) {\n            callback = issuerAddress;\n            issuerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.createToken, options, issuerAddress);\n\n        const {\n            name = false,\n            abbreviation = false,\n            description = false,\n            url = false,\n            totalSupply = 0,\n            trxRatio = 1, // How much TRX will `tokenRatio` cost?\n            tokenRatio = 1, // How many tokens will `trxRatio` afford?\n            saleStart = Date.now(),\n            saleEnd = false,\n            freeBandwidth = 0, // The creator's \"donated\" bandwidth for use by token holders\n            freeBandwidthLimit = 0, // Out of `totalFreeBandwidth`, the amount each token holder get\n            frozenAmount = 0,\n            frozenDuration = 0\n        } = options;\n\n        if(!utils.isString(name) || !name.length)\n            return callback('Invalid token name provided');\n\n        if(!utils.isString(abbreviation) || !abbreviation.length)\n            return callback('Invalid token abbreviation provided');\n\n        if(!utils.isInteger(totalSupply) || totalSupply <= 0)\n            return callback('Invalid supply amount provided');\n\n        if(!utils.isInteger(trxRatio) || trxRatio <= 0)\n            return callback('TRX ratio must be a positive integer');\n\n        if(!utils.isInteger(tokenRatio) || tokenRatio <= 0)\n            return callback('Token ratio must be a positive integer');\n\n        if(!utils.isInteger(saleStart) || saleStart < Date.now())\n            return callback('Invalid sale start timestamp provided');\n\n        if(!utils.isInteger(saleEnd) || saleEnd <= saleStart)\n            return callback('Invalid sale end timestamp provided');\n\n        if(!utils.isString(description) || !description.length)\n            return callback('Invalid token description provided');\n\n        if(!utils.isString(url) || !url.length || !utils.isValidURL(url))\n            return callback('Invalid token url provided');\n\n        if(!utils.isInteger(freeBandwidth) || freeBandwidth < 0)\n            return callback('Invalid free bandwidth amount provided');\n\n        if(!utils.isInteger(freeBandwidthLimit) || freeBandwidthLimit < 0 || (freeBandwidth && !freeBandwidthLimit))\n            return callback('Invalid free bandwidth limit provided');\n\n        if(!utils.isInteger(frozenAmount) || frozenAmount < 0 || (!frozenDuration && frozenAmount))\n            return callback('Invalid frozen supply provided');\n\n        if(!utils.isInteger(frozenDuration) || frozenDuration < 0 || (frozenDuration && !frozenAmount))\n            return callback('Invalid frozen duration provided');\n\n        if(!this.tronWeb.isAddress(issuerAddress))\n            return callback('Invalid issuer address provided');\n\n        this.tronWeb.fullNode.request('wallet/createassetissue', {\n            owner_address: this.tronWeb.address.toHex(issuerAddress),\n            name: this.tronWeb.fromUtf8(name),\n            abbr: this.tronWeb.fromUtf8(abbreviation),\n            description: this.tronWeb.fromUtf8(description),\n            url: this.tronWeb.fromUtf8(url),\n            total_supply: parseInt(totalSupply),\n            trx_num: parseInt(trxRatio),\n            num: parseInt(tokenRatio),\n            start_time: parseInt(saleStart),\n            end_time: parseInt(saleEnd),\n            free_asset_net_limit: parseInt(freeBandwidth),\n            public_free_asset_net_limit: parseInt(freeBandwidthLimit),\n            frozen_supply: {\n                frozen_amount: parseInt(frozenAmount),\n                frozen_days: parseInt(frozenDuration)\n            }\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    updateAccount(accountName = false, address = this.tronWeb.defaultAddress.hex, callback = false)\n    {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback) {\n            return this.injectPromise(this.updateAccount, accountName, address);\n        }\n\n        if (!utils.isString(accountName) || !accountName.length) {\n            return callback('Name must be a string');\n        }\n\n        if(!this.tronWeb.isAddress(address)) {\n            return callback('Invalid origin address provided');\n        }\n\n        this.tronWeb.fullNode.request('wallet/updateaccount', {\n            account_name: this.tronWeb.fromUtf8(accountName),\n            owner_address: this.tronWeb.address.toHex(address),\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    updateToken(options = {}, issuerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(issuerAddress)) {\n            callback = issuerAddress;\n            issuerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.updateToken, options, issuerAddress);\n\n        const {\n            description = false,\n            url = false,\n            freeBandwidth = 0, // The creator's \"donated\" bandwidth for use by token holders\n            freeBandwidthLimit = 0 // Out of `totalFreeBandwidth`, the amount each token holder get\n        } = options;\n\n        if(!utils.isString(description) || !description.length)\n            return callback('Invalid token description provided');\n\n        if(!utils.isString(url) || !url.length || !utils.isValidURL(url))\n            return callback('Invalid token url provided');\n\n        if(!utils.isInteger(freeBandwidth) || freeBandwidth < 0)\n            return callback('Invalid free bandwidth amount provided');\n\n        if(!utils.isInteger(freeBandwidthLimit) || freeBandwidthLimit < 0 || (freeBandwidth && !freeBandwidthLimit))\n            return callback('Invalid free bandwidth limit provided');\n\n        if(!this.tronWeb.isAddress(issuerAddress))\n            return callback('Invalid issuer address provided');\n\n        this.tronWeb.fullNode.request('wallet/updateasset', {\n            owner_address: this.tronWeb.address.toHex(issuerAddress),\n            description: this.tronWeb.fromUtf8(description),\n            url: this.tronWeb.fromUtf8(url),\n            new_limit: parseInt(freeBandwidth),\n            new_public_limit: parseInt(freeBandwidthLimit)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    sendAsset(...args) {\n        return this.sendToken(...args);\n    }\n\n    purchaseAsset(...args) {\n        return this.purchaseToken(...args);\n    }\n\n    createAsset(...args) {\n        return this.createToken(...args);\n    }\n\n    updateAsset(...args) {\n        return this.updateToken(...args);\n    }\n\n    /**\n     * Creates a proposal to modify the network.\n     * Can only be created by a current Super Representative.\n     */\n    createProposal(parameters = false, issuerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(issuerAddress)) {\n            callback = issuerAddress;\n            issuerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.createProposal, parameters, issuerAddress);\n\n        if(!this.tronWeb.isAddress(issuerAddress))\n            return callback('Invalid issuerAddress provided');\n\n        const invalid = 'Invalid proposal parameters provided';\n\n        if(!parameters)\n            return callback(invalid);\n\n        if(!utils.isArray(parameters))\n            parameters = [parameters];\n\n        for (let parameter of parameters) {\n            if(!utils.isObject(parameter))\n                return callback(invalid);\n        }\n\n        this.tronWeb.fullNode.request('wallet/proposalcreate', {\n            owner_address: this.tronWeb.address.toHex(issuerAddress),\n            parameters: parameters\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    /**\n     * Deletes a network modification proposal that the owner issued.\n     * Only current Super Representative can vote on a proposal.\n     */\n    deleteProposal(proposalID = false, issuerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(issuerAddress)) {\n            callback = issuerAddress;\n            issuerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.deleteProposal, proposalID, issuerAddress);\n\n        if(!this.tronWeb.isAddress(issuerAddress))\n            return callback('Invalid issuerAddress provided');\n\n        if(!utils.isInteger(proposalID) || proposalID < 0)\n            return callback('Invalid proposalID provided');\n\n        this.tronWeb.fullNode.request('wallet/proposaldelete', {\n            owner_address: this.tronWeb.address.toHex(issuerAddress),\n            proposal_id: parseInt(proposalID)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    /**\n     * Adds a vote to an issued network modification proposal.\n     * Only current Super Representative can vote on a proposal.\n     */\n    voteProposal(proposalID = false, isApproval = false, voterAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(voterAddress)) {\n            callback = voterAddress;\n            voterAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.voteProposal, proposalID, isApproval, voterAddress);\n\n        if(!this.tronWeb.isAddress(voterAddress))\n            return callback('Invalid voterAddress address provided');\n\n        if(!utils.isInteger(proposalID) || proposalID < 0)\n            return callback('Invalid proposalID provided');\n\n        if(!utils.isBoolean(isApproval))\n            return callback('Invalid hasApproval provided');\n\n        this.tronWeb.fullNode.request('wallet/proposalapprove', {\n            owner_address: this.tronWeb.address.toHex(voterAddress),\n            proposal_id: parseInt(proposalID),\n            is_add_approval: isApproval\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    /**\n     * Create an exchange between a token and TRX.\n     * Token Name should be a CASE SENSITIVE string.\n     * PLEASE VERIFY THIS ON TRONSCAN.\n     */\n    createTRXExchange(tokenName, tokenBalance, trxBalance, ownerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(ownerAddress)) {\n            callback = ownerAddress;\n            ownerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if (!callback)\n            return this.injectPromise(this.createTRXExchange, tokenName, tokenBalance, trxBalance, ownerAddress);\n\n        if (!this.tronWeb.isAddress(ownerAddress))\n            return callback('Invalid address provided');\n\n        if (!utils.isString(tokenName) || !tokenName.length)\n            return callback('Invalid tokenName provided');\n\n        if (!utils.isInteger(tokenBalance) || tokenBalance <= 0\n            || !utils.isInteger(trxBalance) || trxBalance <= 0)\n            return callback('Invalid amount provided');\n\n        this.tronWeb.fullNode.request('wallet/exchangecreate', {\n            owner_address: this.tronWeb.address.toHex(ownerAddress),\n            first_token_id: this.tronWeb.fromUtf8(tokenName),\n            first_token_balance: tokenBalance,\n            second_token_id: '5f', // Constant for TRX.\n            second_token_balance: trxBalance\n        }, 'post').then(resources => {\n            callback(null, resources);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Create an exchange between a token and another token.\n     * DO NOT USE THIS FOR TRX.\n     * Token Names should be a CASE SENSITIVE string.\n     * PLEASE VERIFY THIS ON TRONSCAN.\n     */\n    createTokenExchange(firstTokenName, firstTokenBalance, secondTokenName, secondTokenBalance, ownerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(ownerAddress)) {\n            callback = ownerAddress;\n            ownerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if (!callback)\n            return this.injectPromise(this.createTRXExchange, firstTokenName, firstTokenBalance, secondTokenName, secondTokenBalance, ownerAddress);\n\n        if (!this.tronWeb.isAddress(ownerAddress))\n            return callback('Invalid address provided');\n\n        if (!utils.isString(firstTokenName) || !firstTokenName.length)\n            return callback('Invalid firstTokenName provided');\n\n        if (!utils.isString(secondTokenName) || !secondTokenName.length)\n            return callback('Invalid secondTokenName provided');\n\n        if (!utils.isInteger(firstTokenBalance) || firstTokenBalance <= 0\n            || !utils.isInteger(secondTokenBalance) || secondTokenBalance <= 0)\n            return callback('Invalid amount provided');\n\n        this.tronWeb.fullNode.request('wallet/exchangecreate', {\n            owner_address: this.tronWeb.address.toHex(ownerAddress),\n            first_token_id: this.tronWeb.fromUtf8(firstTokenName),\n            first_token_balance: firstTokenBalance,\n            second_token_id: this.tronWeb.fromUtf8(secondTokenName),\n            second_token_balance: secondTokenBalance\n        }, 'post').then(resources => {\n            callback(null, resources);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Adds tokens into a bancor style exchange.\n     * Will add both tokens at market rate.\n     * Use \"_\" for the constant value for TRX.\n     */\n    injectExchangeTokens(exchangeID = false, tokenName = false, tokenAmount = 0, ownerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(ownerAddress)) {\n            callback = ownerAddress;\n            ownerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.injectExchangeTokens, exchangeID, tokenName, tokenAmount, ownerAddress);\n\n        if(!this.tronWeb.isAddress(ownerAddress))\n            return callback('Invalid ownerAddress provided');\n\n        if(!utils.isInteger(exchangeID) || exchangeID < 0)\n            return callback('Invalid exchangeID provided');\n\n        if(!utils.isString(tokenName) || !tokenName.length)\n            return callback('Invalid tokenName provided');\n\n        if(!utils.isInteger(tokenAmount) || tokenAmount < 1)\n            return callback('Invalid tokenAmount provided');\n\n        this.tronWeb.fullNode.request('wallet/exchangeinject', {\n            owner_address: this.tronWeb.address.toHex(ownerAddress),\n            exchange_id: parseInt(exchangeID),\n            token_id: this.tronWeb.fromUtf8(tokenName),\n            quant:parseInt(tokenAmount)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    /**\n     * Withdraws tokens from a bancor style exchange.\n     * Will withdraw at market rate both tokens.\n     * Use \"_\" for the constant value for TRX.\n     */\n    withdrawExchangeTokens(exchangeID = false, tokenName = false, tokenAmount = 0, ownerAddress = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(ownerAddress)) {\n            callback = ownerAddress;\n            ownerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.withdrawExchangeTokens, exchangeID, tokenName, tokenAmount, ownerAddress);\n\n        if(!this.tronWeb.isAddress(ownerAddress))\n            return callback('Invalid ownerAddress provided');\n\n        if(!utils.isInteger(exchangeID) || exchangeID < 0)\n            return callback('Invalid exchangeID provided');\n\n        if(!utils.isString(tokenName) || !tokenName.length)\n            return callback('Invalid tokenName provided');\n\n        if(!utils.isInteger(tokenAmount) || tokenAmount < 1)\n            return callback('Invalid tokenAmount provided');\n\n        this.tronWeb.fullNode.request('wallet/exchangewithdraw', {\n            owner_address: this.tronWeb.address.toHex(ownerAddress),\n            exchange_id: parseInt(exchangeID),\n            token_id: this.tronWeb.fromUtf8(tokenName),\n            quant:parseInt(tokenAmount)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    /**\n     * Trade tokens on a bancor style exchange.\n     * Expected value is a validation and used to cap the total amt of token 2 spent.\n     * Use \"_\" for the constant value for TRX.\n     */\n    tradeExchangeTokens(exchangeID = false,\n        tokenName = false,\n        tokenAmountSold = 0,\n        tokenAmountExpected = 0,\n        ownerAddress = this.tronWeb.defaultAddress.hex,\n        callback = false) {\n        if(utils.isFunction(ownerAddress)) {\n            callback = ownerAddress;\n            ownerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.tradeExchangeTokens, exchangeID, tokenName, tokenAmountSold, tokenAmountExpected, ownerAddress);\n\n        if(!this.tronWeb.isAddress(ownerAddress))\n            return callback('Invalid ownerAddress provided');\n\n        if(!utils.isInteger(exchangeID) || exchangeID < 0)\n            return callback('Invalid exchangeID provided');\n\n        if(!utils.isString(tokenName) || !tokenName.length)\n            return callback('Invalid tokenName provided');\n\n        if(!utils.isInteger(tokenAmountSold) || tokenAmountSold < 1)\n            return callback('Invalid tokenAmountSold provided');\n\n        if(!utils.isInteger(tokenAmountExpected) || tokenAmountExpected < 1)\n            return callback('Invalid tokenAmountExpected provided');\n\n        this.tronWeb.fullNode.request('wallet/exchangetransaction', {\n            owner_address: this.tronWeb.address.toHex(ownerAddress),\n            exchange_id: parseInt(exchangeID),\n            token_id: this.tronWeb.fromAscii(tokenName),\n            quant:parseInt(tokenAmountSold),\n            expected:parseInt(tokenAmountExpected)\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    /**\n     * Update userFeePercentage.\n     */\n    updateSetting(contractAddress = false,\n                  userFeePercentage = false,\n                  ownerAddress = this.tronWeb.defaultAddress.hex,\n                  callback = false) {\n\n        if(utils.isFunction(ownerAddress)) {\n            callback = ownerAddress;\n            ownerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.updateSetting, contractAddress, userFeePercentage, ownerAddress);\n\n        if(!this.tronWeb.isAddress(ownerAddress))\n            return callback('Invalid ownerAddress provided');\n\n        if(!this.tronWeb.isAddress(contractAddress))\n            return callback('Invalid contractAddress provided');\n\n        if(!utils.isInteger(userFeePercentage) || userFeePercentage < 0 || userFeePercentage > 100)\n            return callback('Invalid options.userFeePercentage provided');\n\n        this.tronWeb.fullNode.request('wallet/updatesetting', {\n            owner_address: this.tronWeb.address.toHex(ownerAddress),\n            contract_address: this.tronWeb.address.toHex(contractAddress),\n            consume_user_resource_percent: userFeePercentage\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n\n    /**\n     * Update energy limit.\n     */\n    updateEnergyLimit(contractAddress = false,\n                      originEnergyLimit = false,\n                      ownerAddress = this.tronWeb.defaultAddress.hex,\n                      callback = false) {\n\n        if(utils.isFunction(ownerAddress)) {\n            callback = ownerAddress;\n            ownerAddress = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.updateEnergyLimit, contractAddress, originEnergyLimit, ownerAddress);\n\n        if(!this.tronWeb.isAddress(ownerAddress))\n            return callback('Invalid ownerAddress provided');\n\n        if(!this.tronWeb.isAddress(contractAddress))\n            return callback('Invalid contractAddress provided');\n\n        if(!utils.isInteger(originEnergyLimit) || originEnergyLimit < 0 || originEnergyLimit > 10_000_000)\n            return callback('Invalid options.originEnergyLimit provided');\n\n        this.tronWeb.fullNode.request('wallet/updateenergylimit', {\n            owner_address: this.tronWeb.address.toHex(ownerAddress),\n            contract_address: this.tronWeb.address.toHex(contractAddress),\n            origin_energy_limit: originEnergyLimit\n        }, 'post').then(transaction => transactionResultManager(transaction, callback)).catch(err => callback(err));\n    }\n}\n","import TronWeb from 'index';\nimport utils from 'utils';\nimport * as Ethers from 'ethers';\n\nconst TRX_MESSAGE_HEADER = '\\x19TRON Signed Message:\\n32';\nconst ETH_MESSAGE_HEADER = '\\x19Ethereum Signed Message:\\n32';\n\nexport default class Trx {\n    constructor(tronWeb = false) {\n        if(!tronWeb || !tronWeb instanceof TronWeb)\n            throw new Error('Expected instance of TronWeb');\n\n        this.tronWeb = tronWeb;\n        this.injectPromise = utils.promiseInjector(this);\n    }\n\n    parseToken(token) {\n        return {\n            ...token,\n            name: this.tronWeb.toUtf8(token.name),\n            abbr: token.abbr && this.tronWeb.toUtf8(token.abbr),\n            description: token.description && this.tronWeb.toUtf8(token.description),\n            url: token.url && this.tronWeb.toUtf8(token.url)\n        };\n    }\n\n    getCurrentBlock(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getCurrentBlock);\n\n        this.tronWeb.fullNode.request('wallet/getnowblock').then(block => {\n            callback(null, block);\n        }).catch(err => callback(err));\n    }\n\n    getBlock(block = this.tronWeb.defaultBlock, callback = false) {\n        if(utils.isFunction(block)) {\n            callback = block;\n            block = this.tronWeb.defaultBlock;            \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getBlock, block);\n\n        if(block === false)\n            return callback('No block identifier provided');\n\n        if(block == 'earliest')\n            block = 0;\n\n        if(block == 'latest')\n            return this.getCurrentBlock(callback);\n\n        if(isNaN(block) && utils.isHex(block))\n            return this.getBlockByHash(block, callback);\n\n        this.getBlockByNumber(block, callback);\n    }\n\n    getBlockByHash(blockHash, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getBlockByHash, blockHash);\n\n        this.tronWeb.fullNode.request('wallet/getblockbyid', { \n            value: blockHash \n        }, 'post').then(block => {\n            if(!Object.keys(block).length)\n                return callback('Block not found');\n\n            callback(null, block);\n        }).catch(err => callback(err));\n    }\n\n    getBlockByNumber(blockID, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getBlockByNumber, blockID);\n\n        if(!utils.isInteger(blockID) || blockID < 0)\n            return callback('Invalid block number provided');\n\n        this.tronWeb.fullNode.request('wallet/getblockbynum', { \n            num: parseInt(blockID) \n        }, 'post').then(block => {\n            if(!Object.keys(block).length)\n                return callback('Block not found');\n\n            callback(null, block);\n        }).catch(err => callback(err));\n    }\n\n    getBlockTransactionCount(block = this.tronWeb.defaultBlock, callback = false) {\n        if(utils.isFunction(block)) {\n            callback = block;\n            block = this.tronWeb.defaultBlock;            \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getBlockTransactionCount, block);\n\n        this.getBlock(block).then(({ transactions = [] }) => {\n            callback(null, transactions.length);\n        }).catch(err => callback(err));\n    }\n\n    getTransactionFromBlock(block = this.tronWeb.defaultBlock, index = 0, callback = false) {\n        if(utils.isFunction(index)) {\n            callback = index;\n            index = 0;\n        }\n        \n        if(utils.isFunction(block)) {\n            callback = block;\n            block = this.tronWeb.defaultBlock;            \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getTransactionFromBlock, block, index);\n\n        if(!utils.isInteger(index) || index < 0)\n            return callback('Invalid transaction index provided');\n\n        this.getBlock(block).then(({ transactions = false }) => {\n            if(!transactions || transactions.length < index)\n                return callback('Transaction not found in block');\n\n            callback(null, transactions[index]);\n        }).catch(err => callback(err));\n    }\n\n    getTransaction(transactionID, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getTransaction, transactionID);\n\n        this.tronWeb.fullNode.request('wallet/gettransactionbyid', { \n            value: transactionID \n        }, 'post').then(transaction => {\n            if(!Object.keys(transaction).length)\n                return callback('Transaction not found');\n                \n            callback(null, transaction);\n        }).catch(err => callback(err));\n    }\n\n    getConfirmedTransaction(transactionID, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getConfirmedTransaction, transactionID);\n\n        this.tronWeb.solidityNode.request('walletsolidity/gettransactionbyid', {\n            value: transactionID\n        }, 'post').then(transaction => {\n            if(!Object.keys(transaction).length)\n                return callback('Transaction not found');\n\n            callback(null, transaction);\n        }).catch(err => callback(err));\n    }\n\n    getTransactionInfo(transactionID, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getTransactionInfo, transactionID);\n\n        this.tronWeb.solidityNode.request('walletsolidity/gettransactioninfobyid', { \n            value: transactionID \n        }, 'post').then(transaction => {\n            callback(null, transaction);\n        }).catch(err => callback(err));\n    }\n\n    getTransactionsToAddress(address = this.tronWeb.defaultAddress.hex, limit = 30, offset = 0, callback = false) {\n        if(utils.isFunction(offset)) {\n            callback = offset;\n            offset = 0;            \n        }\n\n        if(utils.isFunction(limit)) {\n            callback = limit;\n            limit = 30;          \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getTransactionsToAddress, address, limit, offset);\n\n        address = this.tronWeb.address.toHex(address);\n\n        return this.getTransactionsRelated(address, 'to', limit, offset, callback);\n    }\n\n    getTransactionsFromAddress(address = this.tronWeb.defaultAddress.hex, limit = 30, offset = 0, callback = false) {\n        if(utils.isFunction(offset)) {\n            callback = offset;\n            offset = 0;            \n        }\n\n        if(utils.isFunction(limit)) {\n            callback = limit;\n            limit = 30;           \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getTransactionsFromAddress, address, limit, offset);\n\n        address = this.tronWeb.address.toHex(address);\n\n        return this.getTransactionsRelated(address, 'from', limit, offset, callback);\n    }\n\n    async getTransactionsRelated(address = this.tronWeb.defaultAddress.hex, direction = 'all', limit = 30, offset = 0, callback = false) {\n        if(utils.isFunction(offset)) {\n            callback = offset;\n            offset = 0;            \n        }\n\n        if(utils.isFunction(limit)) {\n            callback = limit;\n            limit = 30;         \n        }\n\n        if(utils.isFunction(direction)) {\n            callback = direction;\n            direction = 'all';\n        }\n\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.getTransactionsRelated, address, direction, limit, offset);\n\n        if(![ 'to', 'from', 'all' ].includes(direction))\n            return callback('Invalid direction provided: Expected \"to\", \"from\" or \"all\"');\n        \n        if(direction == 'all') {\n            try {\n                const [from, to] = await Promise.all([\n                    this.getTransactionsRelated(address, 'from', limit, offset),\n                    this.getTransactionsRelated(address, 'to', limit, offset)\n                ])\n\n                return callback(null, [\n                    ...from.map(tx => (tx.direction = 'from', tx)),\n                    ...to.map(tx => (tx.direction = 'to', tx))\n                ].sort((a, b) => b.raw_data.timestamp - a.raw_data.timestamp));\n            } catch(ex) {\n                return callback(ex);\n            }\n        }\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        if(!utils.isInteger(limit) || limit < 0 || (offset && limit < 1))\n            return callback('Invalid limit provided');\n\n        if(!utils.isInteger(offset) || offset < 0)\n            return callback('Invalid offset provided');\n\n        address = this.tronWeb.address.toHex(address);\n\n        this.tronWeb.solidityNode.request(`walletextension/gettransactions${direction}this`, {\n            account: {\n                address\n            },\n            offset,\n            limit\n        }, 'post').then(({ transaction }) => {\n            callback(null, transaction);\n        }).catch(err => callback(err));\n    }\n\n    getAccount(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;            \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getAccount, address);\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        address = this.tronWeb.address.toHex(address);\n\n        this.tronWeb.solidityNode.request('walletsolidity/getaccount', {\n            address\n        }, 'post').then(account => {\n            callback(null, account);\n        }).catch(err => callback(err));\n    }\n\n    getBalance(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;            \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getBalance, address);\n\n        this.getAccount(address).then(({ balance = 0 }) => {\n            callback(null, balance);\n        }).catch(err => callback(err));\n    }\n\n    getUnconfirmedAccount(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.getUnconfirmedAccount, address);\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        address = this.tronWeb.address.toHex(address);\n\n        this.tronWeb.fullNode.request('wallet/getaccount', {\n            address\n        }, 'post').then(account => {\n            callback(null, account);\n        }).catch(err => callback(err));\n    }\n\n    getUnconfirmedBalance(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.getUnconfirmedBalance, address);\n\n        this.getUnconfirmedAccount(address).then(({ balance = 0 }) => {\n            callback(null, balance);\n        }).catch(err => callback(err));\n    }\n\n    getBandwidth(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;            \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getBandwidth, address);\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        address = this.tronWeb.address.toHex(address);\n\n        this.tronWeb.fullNode.request('wallet/getaccountnet', {\n            address\n        }, 'post').then(({ freeNetUsed = 0, freeNetLimit = 0, NetUsed = 0, NetLimit = 0 }) => {\n            callback(null, (freeNetLimit - freeNetUsed) + (NetLimit - NetUsed));\n        }).catch(err => callback(err));\n    }\n\n    getTokensIssuedByAddress(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.hex;            \n        }\n\n        if(!callback)\n            return this.injectPromise(this.getTokensIssuedByAddress, address);\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        address = this.tronWeb.address.toHex(address);\n\n        this.tronWeb.fullNode.request('wallet/getassetissuebyaccount', {\n            address\n        }, 'post').then(({ assetIssue = false }) => {\n            if(!assetIssue)\n                return callback(null, {});\n\n            const tokens = assetIssue.map(token => {\n                return this.parseToken(token);\n            }).reduce((tokens, token) => {\n                return tokens[token.name] = token, tokens;\n            }, {});\n\n            callback(null, tokens);\n        }).catch(err => callback(err));\n    }\n\n    getTokenFromID(tokenID = false, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getTokenFromID, tokenID);\n\n        if(!utils.isString(tokenID) || !tokenID.length)\n            return callback('Invalid token ID provided');\n\n        this.tronWeb.fullNode.request('wallet/getassetissuebyname', {\n            value: this.tronWeb.fromUtf8(tokenID)\n        }, 'post').then(token => {\n            if(!token.name)\n                return callback('Token does not exist');\n                \n            callback(null, this.parseToken(token));\n        }).catch(err => callback(err));\n    }\n\n    listNodes(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.listNodes);\n\n        this.tronWeb.fullNode.request('wallet/listnodes').then(({ nodes = [] }) => {\n            callback(null, nodes.map(({ address: { host, port } }) => (\n                `${this.tronWeb.toUtf8(host)}:${port}`\n            )));\n        }).catch(err => callback(err));\n    }\n\n    getBlockRange(start = 0, end = 30, callback = false) {\n        if(utils.isFunction(end)) {\n            callback = end;\n            end = 30;            \n        }\n\n        if(utils.isFunction(start)) {\n            callback = start;\n            start = 0;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.getBlockRange, start, end);\n\n        if(!utils.isInteger(start) || start < 0)\n            return callback('Invalid start of range provided');\n\n        if(!utils.isInteger(end) || end <= start)\n            return callback('Invalid end of range provided');\n\n        this.tronWeb.fullNode.request('wallet/getblockbylimitnext', { \n            startNum: parseInt(start),\n            endNum: parseInt(end) + 1\n        }, 'post').then(({ block = [] }) => {\n            callback(null, block);\n        }).catch(err => callback(err));\n    }\n\n    listSuperRepresentatives(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.listSuperRepresentatives);\n\n        this.tronWeb.fullNode.request('wallet/listwitnesses').then(({ witnesses = [] }) => {\n            callback(null, witnesses);\n        }).catch(err => callback(err));\n    }\n\n    listTokens(limit = 0, offset = 0, callback = false) {\n        if(utils.isFunction(offset)) {\n            callback = offset;\n            offset = 0;            \n        }\n\n        if(utils.isFunction(limit)) {\n            callback = limit;\n            limit = 0;  \n        }\n        \n        if(!callback)\n            return this.injectPromise(this.listTokens, limit, offset);\n\n        if(!utils.isInteger(limit) || limit < 0 || (offset && limit < 1))\n            return callback('Invalid limit provided');\n\n        if(!utils.isInteger(offset) || offset < 0)\n            return callback('Invalid offset provided');\n\n        if(!limit) {\n            return this.tronWeb.fullNode.request('wallet/getassetissuelist').then(({ assetIssue = [] }) => {\n                callback(null, assetIssue.map(token => this.parseToken(token)));\n            }).catch(err => callback(err));\n        }\n\n        this.tronWeb.fullNode.request('wallet/getpaginatedassetissuelist', {\n            offset: parseInt(offset),\n            limit: parseInt(limit)\n        }, 'post').then(({ assetIssue = [] }) => {\n            callback(null, assetIssue.map(token => this.parseToken(token)));\n        }).catch(err => callback(err));\n    }\n\n    timeUntilNextVoteCycle(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.timeUntilNextVoteCycle);\n\n        this.tronWeb.fullNode.request('wallet/getnextmaintenancetime').then(({ num = -1 }) => {\n            if(num == -1)\n                return callback('Failed to get time until next vote cycle');\n\n            callback(null, Math.floor(num / 1000));\n        }).catch(err => callback(err));\n    }\n\n    getContract(contractAddress, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getContract, contractAddress);\n\n        if(!this.tronWeb.isAddress(contractAddress))\n            return callback('Invalid contract address provided');\n\n        contractAddress = this.tronWeb.address.toHex(contractAddress);\n\n        this.tronWeb.fullNode.request('wallet/getcontract', {\n            value: contractAddress\n        }).then(contract => {\n            if(contract.Error)\n                return callback('Contract does not exist');\n\n            callback(null, contract);\n        }).catch(err => callback(err));\n    }\n\n    async verifyMessage(message = false, signature = false, address = this.tronWeb.defaultAddress.base58, useTronHeader = true, callback = false) {\n        if(utils.isFunction(address)) {\n            callback = address;\n            address = this.tronWeb.defaultAddress.base58;\n            useTronHeader = true;\n        }\n\n        if(utils.isFunction(useTronHeader)) {\n            callback = useTronHeader;\n            useTronHeader = true;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.verifyMessage, message, signature, address, useTronHeader);\n\n        if(!utils.isHex(message))\n            return callback('Expected hex message input');\n\n        if(message.substr(0, 2) == '0x')\n            message = message.substring(2);\n\n        if(signature.substr(0, 2) == '0x')\n            signature = signature.substr(2);\n\n        const messageBytes = [\n            ...Ethers.utils.toUtf8Bytes(useTronHeader ? TRX_MESSAGE_HEADER : ETH_MESSAGE_HEADER),\n            ...utils.code.hexStr2byteArray(message)\n        ];\n\n        const messageDigest = Ethers.utils.keccak256(messageBytes);\n        const recovered = Ethers.utils.recoverAddress(messageDigest, {\n            recoveryParam: signature.substring(128, 130) == '1c' ? 1 : 0,\n            r: '0x' + signature.substring(0, 64),\n            s: '0x' + signature.substring(64, 128)\n        });\n\n        const tronAddress = '41' + recovered.substr(2);\n        const base58Address = this.tronWeb.address.fromHex(tronAddress);\n\n        if(base58Address == this.tronWeb.address.fromHex(address))\n            return callback(null, true);\n\n        callback('Signature does not match');\n    }\n\n    async sign(transaction = false, privateKey = this.tronWeb.defaultPrivateKey, useTronHeader = true, callback = false) {\n        if(utils.isFunction(privateKey)) {\n            callback = privateKey;\n            privateKey = this.tronWeb.defaultPrivateKey;\n            useTronHeader = true;\n        }\n\n        if(utils.isFunction(useTronHeader)) {\n            callback = useTronHeader;\n            useTronHeader = true;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.sign, transaction, privateKey, useTronHeader);\n\n        // Message signing\n        if(utils.isString(transaction)) {\n            if(transaction.substring(0, 2) == '0x')\n                transaction = transaction.substring(2);\n\n            if(!utils.isHex(transaction))\n                return callback('Expected hex message input');\n\n            try {\n                const signingKey = new Ethers.utils.SigningKey(privateKey);\n                const messageBytes = [\n                    ...Ethers.utils.toUtf8Bytes(useTronHeader ? TRX_MESSAGE_HEADER : ETH_MESSAGE_HEADER),\n                    ...utils.code.hexStr2byteArray(transaction)\n                ];\n\n                const messageDigest = Ethers.utils.keccak256(messageBytes);\n                const signature = signingKey.signDigest(messageDigest);\n\n                const signatureHex = [\n                    '0x',\n                    signature.r.substring(2),\n                    signature.s.substring(2),\n                    Number(signature.v).toString(16)\n                ].join('');\n\n                return callback(null, signatureHex);\n            } catch(ex) {\n                callback(ex);\n            }\n        }\n\n        if(!utils.isObject(transaction))\n            return callback('Invalid transaction provided');\n\n        if(transaction.signature)\n            return callback('Transaction is already signed');\n\n        try {\n            const address = this.tronWeb.address.toHex(\n                this.tronWeb.address.fromPrivateKey(privateKey)\n            ).toLowerCase();\n\n            if(address !== transaction.raw_data.contract[0].parameter.value.owner_address.toLowerCase())\n                return callback('Private key does not match address in transaction');\n\n            return callback(null,\n                utils.crypto.signTransaction(privateKey, transaction)\n            );\n        } catch(ex) {\n            callback(ex);\n        }\n    }\n\n    sendRawTransaction(signedTransaction = false, options = {}, callback = false) {\n        if (utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n\n        if(!callback)\n            return this.injectPromise(this.sendRawTransaction, signedTransaction, options);\n\n        if(!utils.isObject(signedTransaction))\n            return callback('Invalid transaction provided');\n\n        if(!utils.isObject(options))\n            return callback('Invalid options provided');\n\n        if(!signedTransaction.signature || !utils.isArray(signedTransaction.signature))\n            return callback('Transaction is not signed');\n\n        this.tronWeb.fullNode.request(\n            'wallet/broadcasttransaction',\n            signedTransaction,\n            'post'\n        ).then(result => {\n            if (result.result)\n                result.transaction = signedTransaction;\n            callback(null, result);\n        }).catch(err => callback(err));\n    }\n\n    async sendTransaction(to = false, amount = false, options = {}, callback = false) {\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n        \n        if(typeof options === 'string')\n            options = { privateKey: options };\n\n        if(!callback)\n            return this.injectPromise(this.sendTransaction, to, amount, options);\n\n        if(!this.tronWeb.isAddress(to))\n            return callback('Invalid recipient provided');\n\n        if(!utils.isInteger(amount) || amount <= 0)\n            return callback('Invalid amount provided');\n\n        options = {\n            privateKey: this.tronWeb.defaultPrivateKey,\n            address: this.tronWeb.defaultAddress.hex,\n            ...options\n        };\n\n        if(!options.privateKey && !options.address)\n            return callback('Function requires either a private key or address to be set');\n\n        try {\n            const address = options.privateKey ? this.tronWeb.address.fromPrivateKey(options.privateKey) : options.address;\n            const transaction = await this.tronWeb.transactionBuilder.sendTrx(to, amount, address);\n            const signedTransaction = await this.sign(transaction, options.privateKey || undefined);\n            const result = await this.sendRawTransaction(signedTransaction);\n\n            return callback(null, result);\n        } catch(ex) {\n            return callback(ex);\n        }\n    }\n\n    async sendToken(to = false, amount = false, tokenID = false, options = {}, callback = false) {\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n        \n        if(typeof options === 'string')\n            options = { privateKey: options };\n\n        if(!callback)\n            return this.injectPromise(this.sendToken, to, amount, tokenID, options);\n\n        if(!this.tronWeb.isAddress(to))\n            return callback('Invalid recipient provided');\n\n        if(!utils.isInteger(amount) || amount <= 0)\n            return callback('Invalid amount provided');\n\n        if(!utils.isString(tokenID))\n            return callback('Invalid token ID provided');\n\n        options = {\n            privateKey: this.tronWeb.defaultPrivateKey,\n            address: this.tronWeb.defaultAddress.hex,\n            ...options\n        };\n\n        if(!options.privateKey && !options.address)\n            return callback('Function requires either a private key or address to be set');\n\n        try {\n            const address = options.privateKey ? this.tronWeb.address.fromPrivateKey(options.privateKey) : options.address;\n            const transaction = await this.tronWeb.transactionBuilder.sendToken(to, amount, tokenID, address);\n            const signedTransaction = await this.sign(transaction, options.privateKey || undefined);\n            const result = await this.sendRawTransaction(signedTransaction);\n\n            return callback(null, result);\n        } catch(ex) {\n            return callback(ex);\n        }\n    }\n\n/**\n     * Freezes an amount of TRX.\n     * Will give bandwidth OR Energy and TRON Power(voting rights)\n     * to the owner of the frozen tokens.\n     *\n     * @param amount - is the number of frozen trx\n     * @param duration - is the duration in days to be frozen\n     * @param resource - is the type, must be either \"ENERGY\" or \"BANDWIDTH\"\n     * @param options\n     * @param callback\n     */\n    async freezeBalance(amount = 0, duration = 3, resource = \"BANDWIDTH\", options = {}, callback = false)\n    {\n        if(utils.isFunction(duration)) {\n            callback = duration;\n            duration = 3;\n        }\n\n        if(utils.isFunction(resource)) {\n            callback = resource;\n            resource = \"BANDWIDTH\";\n        }\n\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n        \n        if(typeof options === 'string')\n            options = { privateKey: options };\n\n        if(!callback)\n            return this.injectPromise(this.freezeBalance, amount, duration, resource, options);\n\n        if(![ 'BANDWIDTH', 'ENERGY' ].includes(resource))\n            return callback('Invalid resource provided: Expected \"BANDWIDTH\" or \"ENERGY\"');\n\n        if(!utils.isInteger(amount) || amount <= 0)\n            return callback('Invalid amount provided');\n\n        if(!utils.isInteger(duration) || duration < 3)\n            return callback('Invalid duration provided, minimum of 3 days');\n\n        options = {\n            privateKey: this.tronWeb.defaultPrivateKey,\n            address: this.tronWeb.defaultAddress.hex,\n            ...options\n        };\n\n        if(!options.privateKey && !options.address)\n            return callback('Function requires either a private key or address to be set');\n\n        try {\n            const address = options.privateKey ? this.tronWeb.address.fromPrivateKey(options.privateKey) : options.address;\n            const freezeBalance = await this.tronWeb.transactionBuilder.freezeBalance(amount, duration, resource, address);\n            const signedTransaction = await this.sign(freezeBalance, options.privateKey || undefined);\n            const result = await this.sendRawTransaction(signedTransaction);\n\n            return callback(null, result);\n        } catch(ex) {\n            return callback(ex);\n        }\n    }\n\n    /**\n     * Unfreeze TRX that has passed the minimum freeze duration.\n     * Unfreezing will remove bandwidth and TRON Power.\n     *\n     * @param resource - is the type, must be either \"ENERGY\" or \"BANDWIDTH\"\n     * @param options\n     * @param callback\n     */\n    async unfreezeBalance(resource = \"BANDWIDTH\", options = {}, callback = false)\n    {\n        if(utils.isFunction(resource)) {\n            callback = resource;\n            resource = 'BANDWIDTH';\n        }\n\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n        \n        if(typeof options === 'string')\n            options = { privateKey: options };\n\n        if(!callback)\n            return this.injectPromise(this.unfreezeBalance, resource, options);\n\n        if(![ 'BANDWIDTH', 'ENERGY' ].includes(resource))\n            return callback('Invalid resource provided: Expected \"BANDWIDTH\" or \"ENERGY\"');\n\n        options = {\n            privateKey: this.tronWeb.defaultPrivateKey,\n            address: this.tronWeb.defaultAddress.hex,\n            ...options\n        };\n\n        if(!options.privateKey && !options.address)\n            return callback('Function requires either a private key or address to be set');\n\n        try {\n            const address = options.privateKey ? this.tronWeb.address.fromPrivateKey(options.privateKey) : options.address;\n            const unfreezeBalance = await this.tronWeb.transactionBuilder.unfreezeBalance(resource, address);\n            const signedTransaction = await this.sign(unfreezeBalance, options.privateKey || undefined);\n            const result = await this.sendRawTransaction(signedTransaction);\n\n            return callback(null, result);\n        } catch(ex) {\n            return callback(ex);\n        }\n    }\n\n    /**\n     * Modify account name\n     * Note: Username is allowed to edit only once.\n     *\n     * @param privateKey - Account private Key\n     * @param accountName - name of the account\n     * @param callback\n     *\n     * @return modified Transaction Object\n     */\n    async updateAccount(accountName = false, options = {},  callback = false)\n    {\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n        \n        if(typeof options === 'string')\n            options = { privateKey: options };\n\n        if(!callback) {\n            return this.injectPromise(this.updateAccount, accountName, options);\n        }\n\n        if (!utils.isString(accountName) || !accountName.length) {\n            return callback('Name must be a string');\n        }\n\n        options = {\n            privateKey: this.tronWeb.defaultPrivateKey,\n            address: this.tronWeb.defaultAddress.hex,\n            ...options\n        };\n\n        if(!options.privateKey && !options.address)\n            return callback('Function requires either a private key or address to be set');\n\n        try {\n            const address = options.privateKey ? this.tronWeb.address.fromPrivateKey(options.privateKey) : options.address;\n            const updateAccount = await this.tronWeb.transactionBuilder.updateAccount(accountName, address);\n            const signedTransaction = await this.sign(updateAccount, options.privateKey || undefined);\n            const result = await this.sendRawTransaction(signedTransaction);\n\n            return callback(null, result);\n        } catch(ex) {\n            return callback(ex);\n        }\n    }\n\n    signMessage(...args) {\n        return this.sign(...args);\n    }\n\n    sendAsset(...args) {\n        return this.sendToken(...args);\n    }\n\n    send(...args) {\n        return this.sendTransaction(...args);\n    }\n\n    sendTrx(...args) {\n        return this.sendTransaction(...args);\n    }\n\n    broadcast(...args) {\n        return this.sendRawTransaction(...args);\n    }\n\n    signTransaction(...args) {\n        return this.sign(...args);\n    }\n\n    /**\n     * Gets a network modification proposal by ID.\n     */\n    getProposal(proposalID = false, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getProposal, proposalID);\n\n        if(!utils.isInteger(proposalID) || proposalID < 0)\n            return callback('Invalid proposalID provided');\n\n        this.tronWeb.fullNode.request('wallet/getproposalbyid', { \n            id: parseInt(proposalID),\n        }, 'post').then(proposal => {\n            callback(null, proposal);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Lists all network modification proposals.\n     */\n    listProposals(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.listProposals);\n\n        this.tronWeb.fullNode.request('wallet/listproposals', {}, 'post').then(({ proposals = [] }) => {\n            callback(null, proposals);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Lists all parameters available for network modification proposals.\n     */\n    getChainParameters(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getChainParameters);\n\n        this.tronWeb.fullNode.request('wallet/getchainparameters', {}, 'post').then(({ chainParameter = [] }) => {\n            callback(null, chainParameter);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Get the account resources\n     */\n    getAccountResources(address = this.tronWeb.defaultAddress.hex, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getAccountResources, address);\n\n        if(!this.tronWeb.isAddress(address))\n            return callback('Invalid address provided');\n\n        this.tronWeb.fullNode.request('wallet/getaccountresource', { \n            address: this.tronWeb.address.toHex(address),\n        }, 'post').then(resources => {\n            callback(null, resources);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Get the exchange ID.\n     */\n    getExchangeByID(exchangeID = false, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getExchangeByID, exchangeID);\n\n        if(!utils.isInteger(exchangeID) || exchangeID < 0)\n            return callback('Invalid exchangeID provided');\n\n        this.tronWeb.fullNode.request('wallet/getexchangebyid', {\n            id: exchangeID,\n        }, 'post').then(exchange => {\n            callback(null, exchange);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Lists the exchanges\n     */\n    listExchanges(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.listExchanges);\n\n        this.tronWeb.fullNode.request('wallet/listexchanges', {}, 'post').then(({ exchanges = [] }) => {\n            callback(null, exchanges);\n        }, 'post').catch(err => callback(err));\n    }\n\n    /**\n     * Lists all network modification proposals.\n     */\n    listExchangesPaginated(limit = 10, offset = 0, callback = false) {\n        if(utils.isFunction(offset)) {\n            callback = offset;\n            offset = 0;\n        }\n        if(utils.isFunction(limit)) {\n            callback = limit;\n            limit = 30;\n        }\n        if(!callback)\n            return this.injectPromise(this.listExchanges);\n\n        this.tronWeb.fullNode.request('wallet/listexchangespaginated', {\n            limit,\n            offset\n        }, 'post').then(({ exchanges = [] }) => {\n            callback(null, exchanges);\n        }).catch(err => callback(err));\n    }\n\n    /**\n     * Get info about thre node\n     */\n    getNodeInfo(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getNodeInfo);\n\n        this.tronWeb.fullNode.request('wallet/getnodeinfo', {}, 'post').then(({ exchanges = [] }) => {\n            callback(null, exchanges);\n        }, 'post').catch(err => callback(err));\n    }\n\n};\n","import utils from 'utils';\n\nconst getFunctionSelector = abi => {\n    return abi.name + '(' + getParamTypes(abi.inputs || []).join(',') + ')';\n}\n\nconst getParamTypes = params => {\n    return params.map(({ type }) => type);\n}\n\nconst decodeOutput = (abi, output) => {\n    const names = abi.map(({ name }) => name).filter(name => !!name);\n    const types = abi.map(({ type }) => type);\n\n    return utils.abi.decodeParams(names, types, output);\n};\n\nexport default class Method {\n    constructor(contract, abi) {\n        this.tronWeb = contract.tronWeb;\n        this.contract = contract;\n\n        this.abi = abi;\n        this.name = abi.name || (abi.name = abi.type);\n\n        this.inputs = abi.inputs || [];\n        this.outputs = abi.outputs || [];\n\n        this.functionSelector = getFunctionSelector(abi);\n        this.signature = this.tronWeb.sha3(this.functionSelector, false).slice(0, 8);\n        this.injectPromise = utils.promiseInjector(this);\n\n        this.defaultOptions = {\n            feeLimit: 1000000000,\n            callValue: 0,\n            from: this.tronWeb.defaultAddress.hex, // Only used for send()\n            shouldPollResponse: false // Only used for sign()\n        };\n    }\n\n    decodeInput(data) {\n        return decodeOutput(this.inputs, '0x' + data);\n    }\n\n    onMethod(...args) {\n        const types = getParamTypes(this.inputs);\n\n        args.forEach((arg, index) => {\n            if (types[index] == 'address')\n                args[index] = this.tronWeb.address.toHex(arg).replace(/^(41)/, '0x')\n\n            if (types[index] == 'address[]') {\n                args[index] = args[index].map(address => {\n                    return this.tronWeb.address.toHex(address).replace(/^(41)/, '0x')\n                })\n            }\n        });\n\n        return {\n            call: (...methodArgs) => this._call(types, args, ...methodArgs),\n            send: (...methodArgs) => this._send(types, args, ...methodArgs),\n            watch: (...methodArgs) => this._watch(...methodArgs)\n        }\n    }\n\n    async _call(types, args, options = {}, callback = false) {\n        if (utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n\n        if (!callback)\n            return this.injectPromise(this._call, types, args, options);\n\n        if (types.length !== args.length)\n            return callback('Invalid argument count provided');\n\n        if (!this.contract.address)\n            return callback('Smart contract is missing address');\n\n        if (!this.contract.deployed)\n            return callback('Calling smart contracts requires you to load the contract first');\n\n        const {stateMutability} = this.abi;\n\n        if (!['pure', 'view'].includes(stateMutability.toLowerCase()))\n            return callback(`Methods with state mutability \"${stateMutability}\" must use send()`);\n\n        options = { ...this.defaultOptions, ...options };\n\n        const parameters = args.map((value, index) => ({\n            type: types[index],\n            value\n        }));\n\n        this.tronWeb.transactionBuilder.triggerSmartContract(\n            this.contract.address,\n            this.functionSelector,\n            options.feeLimit,\n            options.callValue,\n            parameters,\n            this.tronWeb.address.toHex(options.from),\n            (err, transaction) => {\n                if (err)\n                    return callback(err);\n\n                if (!utils.hasProperty(transaction, 'constant_result'))\n                    return callback('Failed to execute');\n\n                try {\n                    let output = decodeOutput(this.outputs, '0x' + transaction.constant_result[0]);\n\n                    if (output.length === 1)\n                        output = output[0];\n\n                    return callback(null, output);\n                } catch (ex) {\n                    return callback(ex);\n                }\n            });\n    }\n\n    async _send(types, args, options = {}, privateKey = this.tronWeb.defaultPrivateKey, callback = false) {\n        if (utils.isFunction(privateKey)) {\n            callback = privateKey;\n            privateKey = this.tronWeb.defaultPrivateKey;\n        }\n\n        if (utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n\n        if (!callback)\n            return this.injectPromise(this._send, types, args, options, privateKey);\n\n        if (types.length !== args.length)\n            throw new Error('Invalid argument count provided');\n\n        if (!this.contract.address)\n            return callback('Smart contract is missing address');\n\n        if (!this.contract.deployed)\n            return callback('Calling smart contracts requires you to load the contract first');\n\n        const {stateMutability} = this.abi;\n\n        if (['pure', 'view'].includes(stateMutability.toLowerCase()))\n            return callback(`Methods with state mutability \"${stateMutability}\" must use call()`);\n\n        // If a function isn't payable, dont provide a callValue.\n        if (!['payable'].includes(stateMutability.toLowerCase()))\n            options.callValue = 0;\n\n        options = {...this.defaultOptions, ...options};\n\n        const parameters = args.map((value, index) => ({\n            type: types[index],\n            value\n        }));\n\n        try {\n            const address = privateKey ? this.tronWeb.address.fromPrivateKey(privateKey) : this.tronWeb.defaultAddress.base58;\n            const transaction = await this.tronWeb.transactionBuilder.triggerSmartContract(\n                this.contract.address,\n                this.functionSelector,\n                options.feeLimit,\n                options.callValue,\n                parameters,\n                this.tronWeb.address.toHex(address)\n            );\n\n            if (!transaction.result || !transaction.result.result)\n                return callback('Unknown error: ' + JSON.stringify(transaction, null, 2));\n\n            // If privateKey is false, this won't be signed here. We assume sign functionality will be replaced.\n            const signedTransaction = await this.tronWeb.trx.sign(transaction.transaction, privateKey);\n\n            if (!signedTransaction.signature) {\n                if (!privateKey)\n                    return callback('Transaction was not signed properly');\n                \n                return callback('Invalid private key provided');\n            }\n\n            const broadcast = await this.tronWeb.trx.sendRawTransaction(signedTransaction);\n\n            if (!broadcast.result)\n                return callback('Unknown error: ' + JSON.stringify(broadcast, null, 2));\n\n            if (!options.shouldPollResponse)\n                return callback(null, signedTransaction.txID);\n\n            const checkResult = async (index = 0) => {\n                if (index == 20) {\n                    return callback({\n                        error: 'Cannot find result in solidity node',\n                        transaction: signedTransaction\n                    });\n                }\n\n                const output = await this.tronWeb.trx.getTransactionInfo(signedTransaction.txID);\n\n                if (!Object.keys(output).length) {\n                    return setTimeout(() => {\n                        checkResult(index + 1);\n                    }, 3000);\n                }\n\n                if (output.result && output.result == 'FAILED') {\n                    return callback({\n                        error: this.tronWeb.toUtf8(output.resMessage),\n                        transaction: signedTransaction,\n                        output\n                    });\n                }\n\n                if (!utils.hasProperty(output, 'contractResult')) {\n                    return callback({\n                        error: 'Failed to execute: ' + JSON.stringify(output, null, 2),\n                        transaction: signedTransaction,\n                        output\n                    });\n                }\n\n                let decoded = decodeOutput(this.outputs, '0x' + output.contractResult[0]);\n\n                if (decoded.length === 1)\n                    decoded = decoded[0];\n\n                return callback(null, decoded);\n            }\n\n            checkResult();\n        } catch (ex) {\n            return callback(ex);\n        }\n    }\n\n    async _watch(options = {}, callback = false) {\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n\n        if(!utils.isFunction(callback))\n            throw new Error('Expected callback to be provided');\n\n        if (!this.contract.address)\n            return callback('Smart contract is missing address');\n\n        if (this.abi.type.toLowerCase() !== 'event')\n            return callback('Invalid method type for event watching');\n\n        if (!this.tronWeb.eventServer)\n            return callback('No event server configured');\n\n        let listener = false;\n        let lastBlock = false;\n        const sinceTimestamp = new Date().getTime();\n\n        const getEvents = async () => {\n            try {\n                const events = await this.tronWeb.getEventResult(this.contract.address, sinceTimestamp, this.name);\n                const [ latestEvent ] = events.sort((a, b) => b.block - a.block);\n                const newEvents = events.filter((event, index) => {\n\n                    if (options.resourceNode && !RegExp(options.resourceNode, 'i').test(event.resourceNode))\n                        return false;\n\n                    const duplicate = events.slice(0, index).some(priorEvent => (\n                        JSON.stringify(priorEvent) == JSON.stringify(event)\n                    ));\n\n                    if (duplicate)\n                        return false;\n\n                    if (!lastBlock)\n                        return true;\n\n                    return event.block > lastBlock;\n                });\n\n                if (latestEvent)\n                    lastBlock = latestEvent.block;\n\n                return newEvents;\n            } catch (ex) {\n                return Promise.reject(ex);\n            }\n        };\n\n        const bindListener = () => {\n            if (listener)\n                clearInterval(listener);\n\n            listener = setInterval(() => {\n                getEvents().then(events => events.forEach(event => {\n                    callback(null, utils.parseEvent(event, this.abi))\n                })).catch(err => callback(err));\n            }, 3000);\n        };\n\n        await getEvents();\n        bindListener();\n\n        return {\n            start: bindListener(),\n            stop: () => {\n                if (!listener)\n                    return;\n\n                clearInterval(listener);\n                listener = false;\n            }\n        }\n    }\n}\n","import TronWeb from 'index';\nimport utils from 'utils';\nimport Method from './method';\n\nexport default class Contract {\n    constructor(tronWeb = false, abi = [], address = false) {\n        if(!tronWeb || !tronWeb instanceof TronWeb)\n            throw new Error('Expected instance of TronWeb');\n\n        this.tronWeb = tronWeb;\n        this.injectPromise = utils.promiseInjector(this);\n\n        this.address = address;\n        this.abi = abi;\n\n        this.eventListener = false;\n        this.bytecode = false;\n        this.deployed = false;\n        this.lastBlock = false;\n\n        this.methods = {};\n        this.methodInstances = {};\n        this.props = [];\n\n        if(this.tronWeb.isAddress(address))\n            this.deployed = true;\n        else this.address = false;\n\n        this.loadAbi(abi);\n    }\n\n    async _getEvents(options = {}) {\n        const events = await this.tronWeb.getEventResult(this.address);\n        const [ latestEvent ] = events.sort((a, b) => b.block - a.block);\n        const newEvents = events.filter((event, index) => {\n\n            if (options.resourceNode && !RegExp(options.resourceNode, 'i').test(event.resourceNode))\n                return false;\n\n            const duplicate = events.slice(0, index).some(priorEvent => (\n                JSON.stringify(priorEvent) == JSON.stringify(event)\n            ));\n\n            if(duplicate)\n                return false;\n\n            if(!this.lastBlock)\n                return true;\n\n            return event.block > this.lastBlock;\n        });\n\n        if(latestEvent)\n            this.lastBlock = latestEvent.block;\n\n        return newEvents;\n    }\n\n    async _startEventListener(options = {}, callback) {\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n\n        if(this.eventListener)\n            clearInterval(this.eventListener);\n\n        if(!this.tronWeb.eventServer)\n            throw new Error('Event server is not configured');\n\n        if(!this.address)\n            throw new Error('Contract is not configured with an address');\n\n        this.eventCallback = callback;\n        await this._getEvents(options);\n\n        this.eventListener = setInterval(() => {\n            this._getEvents(options).then(newEvents => newEvents.forEach(event => {\n                this.eventCallback && this.eventCallback(event)\n            })).catch(err => {\n                console.error('Failed to get event list', err);\n            });\n        }, 3000);\n    }\n\n    _stopEventListener() {\n        if(!this.eventListener)\n            return;\n\n        clearInterval(this.eventListener);\n        this.eventListener = false;\n        this.eventCallback = false;\n    }\n\n    hasProperty(property) {\n        return this.hasOwnProperty(property) || this.__proto__.hasOwnProperty(property);\n    }\n\n    loadAbi(abi) {\n        this.abi = abi;\n        this.methods = {};\n\n        this.props.forEach(prop => delete this[prop]);\n\n        abi.forEach(func => {\n            // Don't build a method for constructor function. That's handled through contract create.\n            if (func.type.toLowerCase() === 'constructor')\n                return;\n\n            const method = new Method(this, func);\n            const methodCall = method.onMethod.bind(method);\n\n            const {\n                name,\n                functionSelector,\n                signature\n            } = method;\n\n            this.methods[name] = methodCall;\n            this.methods[functionSelector] = methodCall;\n            this.methods[signature] = methodCall;\n\n            this.methodInstances[name] = method;\n            this.methodInstances[functionSelector] = method;\n            this.methodInstances[signature] = method;\n\n            if(!this.hasProperty(name)) {\n                this[name] = methodCall;\n                this.props.push(name);\n            }\n\n            if(!this.hasProperty(functionSelector)) {\n                this[functionSelector] = methodCall;\n                this.props.push(functionSelector);\n            }\n\n            if(!this.hasProperty(signature)) {\n                this[signature] = methodCall;\n                this.props.push(signature);\n            }\n        });\n    }\n\n    decodeInput(data) {\n\n        const methodName = data.substring(0, 8);\n        const inputData = data.substring(8);\n\n        if (!this.methodInstances[methodName])\n            throw new Error('Contract method ' + methodName + \" not found\");\n\n        const methodInstance = this.methodInstances[methodName];\n\n        return {\n            name: methodInstance.name,\n            params: this.methodInstances[methodName].decodeInput(inputData),\n        }\n    }\n\n    async new(options, privateKey = this.tronWeb.defaultPrivateKey, callback = false) {\n        if(utils.isFunction(privateKey)) {\n            callback = privateKey;\n            privateKey = this.tronWeb.defaultPrivateKey;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.new, options, privateKey);\n\n        try {\n            const address = this.tronWeb.address.fromPrivateKey(privateKey);\n            const transaction = await this.tronWeb.transactionBuilder.createSmartContract(options, address);\n            const signedTransaction = await this.tronWeb.trx.sign(transaction, privateKey);\n            const contract = await this.tronWeb.trx.sendRawTransaction(signedTransaction);\n\n            if(!contract.result)\n                return callback('Unknown error: ' + JSON.stringify(contract, null, 2));\n\n            return this.at(signedTransaction.contract_address, callback);\n        } catch(ex) {\n            return callback(ex);\n        }\n    }\n\n    async at(contractAddress, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.at, contractAddress);\n\n        try {\n            const contract = await this.tronWeb.trx.getContract(contractAddress);\n\n            if(!contract.contract_address)\n                callback('Unknown error: ' + JSON.stringify(contract, null, 2));\n\n            this.address = contract.contract_address;\n            this.bytecode = contract.bytecode;\n            this.deployed = true;\n\n            this.loadAbi(contract.abi.entrys);\n\n            callback(null, this);\n        } catch(ex) {\n            if(ex.toString().includes('does not exist'))\n                return callback('Contract has not been deployed on the network');\n\n            return callback(ex);\n        }\n    }\n\n    events(options = {}, callback = false) {\n        if(utils.isFunction(options)) {\n            callback = options;\n            options = {};\n        }\n\n        if(!utils.isFunction(callback))\n            throw new Error('Callback function expected');\n\n        const self = this;\n\n        return {\n            start(startCallback = false) {\n                if(!startCallback) {\n                    self._startEventListener(options, callback);\n                    return this;\n                }\n\n                self._startEventListener(options, callback).then(() => {\n                    startCallback();\n                }).catch(err => {\n                    startCallback(err)\n                });\n\n                return this;\n            },\n            stop() {\n                self._stopEventListener();\n            }\n        };\n    }\n}\n","import providers from 'lib/providers';\nimport utils from 'utils';\nimport BigNumber from 'bignumber.js';\nimport EventEmitter from 'eventemitter3';\n\nimport TransactionBuilder from 'lib/transactionBuilder';\nimport Trx from 'lib/trx';\nimport Contract from 'lib/contract';\n\nimport { keccak256 } from 'js-sha3';\n\nexport default class TronWeb extends EventEmitter {\n    static providers = providers;\n    static BigNumber = BigNumber;\n    static TransactionBuilder = TransactionBuilder;\n    static Trx = Trx;\n    static Contract = Contract;\n    \n    constructor(fullNode, solidityNode, eventServer = false, privateKey = false) {\n        super();\n\n        if(utils.isString(fullNode))\n            fullNode = new providers.HttpProvider(fullNode);\n\n        if(utils.isString(solidityNode))\n            solidityNode = new providers.HttpProvider(solidityNode);\n\n        if(utils.isString(eventServer))\n            eventServer = new providers.HttpProvider(eventServer);\n\n        this.setFullNode(fullNode);\n        this.setSolidityNode(solidityNode);\n        this.setEventServer(eventServer);\n        \n        this.providers = providers;\n        this.BigNumber = BigNumber;\n\n        this.defaultBlock = false;\n        this.defaultPrivateKey = false;\n        this.defaultAddress = {\n            hex: false,\n            base58: false\n        };\n        \n        [\n            'sha3', 'toHex', 'toUtf8', 'fromUtf8',\n            'toAscii', 'fromAscii', 'toDecimal', 'fromDecimal',\n            'toSun', 'fromSun', 'toBigNumber', 'isAddress', \n            'createAccount', 'address'\n        ].forEach(key => {\n            this[key] = TronWeb[key];\n        });\n\n        if(privateKey)\n            this.setPrivateKey(privateKey);\n\n        this.transactionBuilder = new TransactionBuilder(this);\n        this.trx = new Trx(this);\n        this.utils = utils;\n\n        this.injectPromise = utils.promiseInjector(this);\n    }\n\n    setDefaultBlock(blockID = false) {\n        if([ false, 'latest', 'earliest', 0 ].includes(blockID)) {\n            return this.defaultBlock = blockID;\n        }\n\n        if(!utils.isInteger(blockID) || !blockID)\n            throw new Error('Invalid block ID provided');\n\n        this.defaultBlock = Math.abs(blockID);\n    }\n\n    setPrivateKey(privateKey) {\n        try {\n            this.setAddress(\n                this.address.fromPrivateKey(privateKey)\n            );\n        } catch {\n            throw new Error('Invalid private key provided');\n        }\n\n        this.defaultPrivateKey = privateKey;\n        this.emit('privateKeyChanged', privateKey);\n    }\n\n    setAddress(address) {\n        if(!this.isAddress(address))\n            throw new Error('Invalid address provided');\n\n        const hex = this.address.toHex(address);\n        const base58 = this.address.fromHex(address);\n\n        if(this.defaultPrivateKey && this.address.fromPrivateKey(this.defaultPrivateKey) !== base58)\n           this.defaultPrivateKey = false;\n\n        this.defaultAddress = {\n            hex,\n            base58\n        };\n\n        this.emit('addressChanged', { hex, base58 });\n    }\n\n    isValidProvider(provider) {\n        return Object.values(providers).some(knownProvider => provider instanceof knownProvider);\n    }\n\n    setFullNode(fullNode) {\n        if(utils.isString(fullNode))\n            fullNode = new providers.HttpProvider(fullNode);\n\n        if(!this.isValidProvider(fullNode))\n            throw new Error('Invalid full node provided');\n\n        this.fullNode = fullNode;\n        this.fullNode.setStatusPage('wallet/getnowblock');\n    }\n\n    setSolidityNode(solidityNode) {\n        if(utils.isString(solidityNode))\n            solidityNode = new providers.HttpProvider(solidityNode);\n\n        if(!this.isValidProvider(solidityNode))\n            throw new Error('Invalid solidity node provided');\n\n        this.solidityNode = solidityNode;\n        this.solidityNode.setStatusPage('walletsolidity/getnowblock');\n    }\n\n    setEventServer(eventServer = false) {\n        if(!eventServer)\n            return this.eventServer = false;\n\n        if(utils.isString(eventServer))\n            eventServer = new providers.HttpProvider(eventServer);\n            \n        if(!this.isValidProvider(eventServer))\n            throw new Error('Invalid event server provided');\n\n        this.eventServer = eventServer;\n        this.eventServer.isConnected = () => this.eventServer.request('healthcheck').then(() => true).catch(() => (\n            this.eventServer.request('events?size=1').then(data => (\n                Array.isArray(data)\n            ))\n        )).catch(() => false);\n    }\n\n    currentProviders() {\n        return {\n            fullNode: this.fullNode,\n            solidityNode: this.solidityNode,\n            eventServer: this.eventServer\n        };\n    }\n\n    currentProvider() {\n        return this.currentProviders();\n    }\n\n    getEventResult(contractAddress = false, sinceTimestamp = 0, eventName = false, blockNumber = false, size = 20, page = 1, callback = false) {\n\n        if(utils.isFunction(page)) {\n            callback = page;\n            page = 1;\n        }\n\n        if(utils.isFunction(size)) {\n            callback = size;\n            size = 20;\n        }\n\n        if(!callback)\n            return this.injectPromise(this.getEventResult, contractAddress, sinceTimestamp, eventName, blockNumber, size, page);\n\n        if(!this.eventServer)\n            callback('No event server configured');\n\n        const routeParams = [];\n\n        if(!this.isAddress(contractAddress))\n            return callback('Invalid contract address provided');\n\n        if(eventName && !contractAddress)\n            return callback('Usage of event name filtering requires a contract address');\n\n        if (!utils.isInteger(sinceTimestamp))\n            return callback('Invalid sinceTimestamp provided');\n\n        if (!utils.isInteger(size))\n            return callback('Invalid size provided');\n\n        if(size > 200) {\n            console.warn('Defaulting to maximum accepted size: 200');\n            size = 200;\n        }\n\n        if (!utils.isInteger(page))\n            return callback('Invalid page provided');\n\n        if(blockNumber && !eventName)\n            return callback('Usage of block number filtering requires an event name');\n\n        if(contractAddress)\n            routeParams.push(this.address.fromHex(contractAddress));\n\n        if(eventName)\n            routeParams.push(eventName);\n\n        if(blockNumber)\n            routeParams.push(blockNumber);\n\n        return this.eventServer.request(`event/contract/${routeParams.join('/')}?since=${sinceTimestamp}&size=${size}&page=${page}`).then((data = false) => {\n            if(!data)\n                return callback('Unknown error occurred');\n\n            if(!utils.isArray(data))\n                return callback(data);\n\n            return callback(null, \n                data.map(event => utils.mapEvent(event))\n            );\n        }).catch(err => callback((err.response && err.response.data) || err)); \n    }\n\n    getEventByTransactionID(transactionID = false, callback = false) {\n        if(!callback)\n            return this.injectPromise(this.getEventByTransactionID, transactionID);\n\n        if(!this.eventServer)\n            callback('No event server configured');\n\n        return this.eventServer.request(`event/transaction/${transactionID}`).then((data = false) => {\n            if(!data)\n                return callback('Unknown error occurred');\n\n            if(!utils.isArray(data))\n                return callback(data);\n\n            return callback(null, \n                data.map(event => utils.mapEvent(event))\n            );\n        }).catch(err => callback((err.response && err.response.data) || err));\n    }\n\n    contract(abi = [], address = false) {\n        return new Contract(this, abi, address);\n    }\n\n    static get address() {\n        return {\n            fromHex(address) {\n                if(!utils.isHex(address))\n                    return address;\n\n                return utils.crypto.getBase58CheckAddress(\n                    utils.code.hexStr2byteArray(address)\n                );\n            },\n            toHex(address) {\n                if(utils.isHex(address))\n                    return address.toLowerCase().replace(/^0x/,'41');\n\n                return utils.code.byteArray2hexStr(\n                    utils.crypto.decodeBase58Address(address)\n                ).toLowerCase();\n            },\n            fromPrivateKey(privateKey) {\n                try {\n                    return utils.crypto.pkToAddress(privateKey);\n                } catch { return false; }\n            }\n        }\n    }\n\n    static sha3(string, prefix = true) {\n        return (prefix ? '0x' : '') + keccak256(string);\n    }\n\n    static toHex(val) {\n        if(utils.isBoolean(val))\n            return TronWeb.fromDecimal(+val);\n\n        if(utils.isBigNumber(val))\n            return TronWeb.fromDecimal(val);\n\n        if(typeof val === 'object')\n            return TronWeb.fromUtf8(JSON.stringify(val));\n\n        if(utils.isString(val)) {\n            if (/^(-|)0x/.test(val))\n                return val;\n\n            if(!isFinite(val))\n                return TronWeb.fromUtf8(val);\n        }\n\n        let result = TronWeb.fromDecimal(val);\n        if (result === '0xNaN') {\n            throw new Error('The passed value is not convertible to a hex string');\n        } else {\n            return result;\n        }\n    }\n\n    static toUtf8(hex) {\n        if (utils.isHex(hex)) {\n            hex = hex.replace(/^0x/, '');\n            return Buffer.from(hex, 'hex').toString('utf8');\n        } else {\n            throw new Error('The passed value is not a valid hex string');\n        }\n    }\n\n    static fromUtf8(string) {\n        if (!utils.isString(string)) {\n            throw new Error('The passed value is not a valid utf-8 string')\n        }\n        return '0x' + Buffer.from(string, 'utf8').toString('hex');\n    }\n\n    static toAscii(hex) {\n        if (utils.isHex(hex)) {\n            let str = \"\";\n            let i = 0, l = hex.length;\n            if (hex.substring(0, 2) === '0x') {\n                i = 2;\n            }\n            for (; i < l; i+=2) {\n                let code = parseInt(hex.substr(i, 2), 16);\n                str += String.fromCharCode(code);\n            }\n            return str;\n        } else {\n            throw new Error('The passed value is not a valid hex string');\n        }\n    }\n\n    static fromAscii(string, padding) {\n        if (!utils.isString(string)) {\n            throw new Error('The passed value is not a valid utf-8 string')\n        }\n        return '0x' + Buffer.from(string, 'ascii').toString('hex').padEnd(padding, '0');\n    }\n\n\n    static toDecimal(value) {\n        return TronWeb.toBigNumber(value).toNumber();\n    }\n\n    static fromDecimal(value) {\n        const number = TronWeb.toBigNumber(value);\n        const result = number.toString(16);\n\n        return number.isLessThan(0) ? '-0x' + result.substr(1) : '0x' + result;\n    }\n\n    static fromSun(sun) {\n        const trx = TronWeb.toBigNumber(sun).div(1_000_000);        \n        return utils.isBigNumber(sun) ? trx : trx.toString(10);\n    }\n\n    static toSun(trx) {\n        const sun = TronWeb.toBigNumber(trx).times(1_000_000);        \n        return utils.isBigNumber(trx) ? sun : sun.toString(10);\n    }\n\n    static toBigNumber(amount = 0) {\n        if(utils.isBigNumber(amount))\n            return amount;\n\n        if(utils.isString(amount) && /^(-|)0x/.test(amount))\n            return new BigNumber(amount.replace('0x', ''), 16);\n\n        return new BigNumber(amount.toString(10), 10);\n    }\n\n    static isAddress(address = false) {\n        if(!utils.isString(address))\n            return false;\n\n        // Convert HEX to Base58\n        if(address.length === 42) {\n            try {\n                return TronWeb.isAddress(\n                    utils.crypto.getBase58CheckAddress(\n                        utils.code.hexStr2byteArray(address) // it throws an error if the address starts with 0x\n                    )\n                );\n            } catch(err) {\n                return false;\n            }\n        }\n        try {\n            return utils.crypto.isAddressValid(address);\n        } catch(err) {\n            return false;\n        }\n    }\n\n    static async createAccount(callback = false) {\n        const account = utils.accounts.generateAccount();\n\n        if(callback)\n            callback(null, account);\n\n        return account;\n    }\n\n    async isConnected(callback = false) {\n        if(!callback)\n            return this.injectPromise(this.isConnected);\n\n        callback(null, {\n            fullNode: await this.fullNode.isConnected(),\n            solidityNode: await this.solidityNode.isConnected(),\n            eventServer: this.eventServer && await this.eventServer.isConnected()\n        });\n    }\n};\n"],"sourceRoot":""}